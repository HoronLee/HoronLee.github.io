import{_ as p}from"./ValaxyMain.vue_vue_type_style_index_0_lang-BlZE3LhB.js";import{_ as d,a as E,p as o,o as F,c as g,w as l,f as s,g as i,h as e,r as t,i as c}from"./app-DYGYtZ5U.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-B9Dth9xg.js";import"./YunCard.vue_vue_type_script_setup_true_lang-ZIvkhB7t.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-nY4cFgbl.js";import"./index-C7yU5XnD.js";const k=JSON.parse('{"title":"使用Docker部署NextCloud","description":null,"frontmatter":{"title":"使用Docker部署NextCloud","businesscard":true,"date":"2022-12-20T15:30:00.000Z","updated":null,"tags":["CentOS","Linux","NextCloud"],"categories":["服务器运维","Docker"],"keywords":null,"description":null,"top_img":null,"comments":null,"cover":"https://pic4.zhimg.com/v2-3e8ac6726d140c2590887773da7dcdea_720w.jpg?source=172ae18b","toc":null,"toc_number":null,"toc_style_simple":null,"copyright":null,"copyright_author":null,"copyright_author_href":null,"copyright_url":null,"copyright_info":null,"mathjax":null,"katex":null,"aplayer":null,"highlight_shrink":null,"aside":null,"swiper_index":null},"headers":[{"level":2,"title":"创建一个用于存放nextcloud文件的目录，并在其中新建名为docker-compose.yaml的文件写入以下内容","slug":"创建一个用于存放nextcloud文件的目录-并在其中新建名为docker-compose-yaml的文件写入以下内容","link":"#创建一个用于存放nextcloud文件的目录-并在其中新建名为docker-compose-yaml的文件写入以下内容","children":[]},{"level":2,"title":"在docker-compose文件夹下添加一些配置文件","slug":"在docker-compose文件夹下添加一些配置文件","link":"#在docker-compose文件夹下添加一些配置文件","children":[]},{"level":2,"title":"启动docker-compose并配置访问域名","slug":"启动docker-compose并配置访问域名","link":"#启动docker-compose并配置访问域名","children":[]},{"level":2,"title":"添加受信任的域名或者IP访问nextcloud站点","slug":"添加受信任的域名或者ip访问nextcloud站点","link":"#添加受信任的域名或者ip访问nextcloud站点","children":[]}],"relativePath":"pages/posts/Docker-NextCloud.md","path":"/home/runner/work/horonlee.github.io/horonlee.github.io/pages/posts/Docker-NextCloud.md","lastUpdated":1711418005000}'),y={name:"pages/posts/Docker-NextCloud.md",data(){return{data:k,frontmatter:k.frontmatter,$frontmatter:k.frontmatter}},setup(){const a=E();a.meta.frontmatter=Object.assign(a.meta.frontmatter||{},k.frontmatter||{}),o("pageData",k)}},u={id:"使用docker-compose创建、配置nextcloud",tabindex:"-1"},C={id:"创建一个用于存放nextcloud文件的目录-并在其中新建名为docker-compose-yaml的文件写入以下内容",tabindex:"-1"},m=s("div",{class:"language-vim"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"vim"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"version: "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'3.2'")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"services:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  db:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    image: postgres:"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"12")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    container_name: nextcloud_db")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    restart: always")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    volumes:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/db:/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"var"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/lib/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"postgresql/data")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    environment:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"POSTGRES_DB_FILE"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"secrets/postgres_db")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"POSTGRES_USER_FILE"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"secrets/postgres_user")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"POSTGRES_PASSWORD_FILE"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"secrets/postgres_password")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    secrets:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"postgres_db")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"postgres_password")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"postgres_user")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  app:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    image: nextcloud")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    container_name: nextcloud")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    restart: always")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ports:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"9002"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"80")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    volumes:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/app:/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"var"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/www/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"html")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    environment:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"POSTGRES_HOST"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"db")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"POSTGRES_DB_FILE"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"secrets/postgres_db")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"POSTGRES_USER_FILE"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"secrets/postgres_user")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"POSTGRES_PASSWORD_FILE"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"secrets/postgres_password")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"NEXTCLOUD_ADMIN_PASSWORD_FILE"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"secrets/nextcloud_admin_password")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"NEXTCLOUD_ADMIN_USER_FILE"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"secrets/nextcloud_admin_user")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    depends_on:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"db")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    secrets:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"nextcloud_admin_password")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"nextcloud_admin_user")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"postgres_db")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"postgres_password")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      - "),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"postgres_user")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"secrets:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  nextcloud_admin_password:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    file: ."),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/init_secrets/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"nextcloud_admin_password.txt "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," put admin password "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," this file")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  nextcloud_admin_user:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    file: ."),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/init_secrets/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"nextcloud_admin_user.txt "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," put admin username "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," this file")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  postgres_db:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    file: ."),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/init_secrets/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"postgres_db.txt "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," put postgresql db name "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," this file")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  postgres_password:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    file: ."),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/init_secrets/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"postgres_password.txt "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," put postgresql password "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," this file")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  postgres_user:")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    file: ."),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/init_secrets/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"postgres_user.txt "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," put postgresql username "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," this file")])])]),s("button",{class:"collapse"})],-1),B={id:"在docker-compose文件夹下添加一些配置文件",tabindex:"-1"},_=s("p",null,[i("总共添加了五个文件，在"),s("code",null,"./init_secrets/"),i("下，文件结构名称细节如下：")],-1),D=s("blockquote",null,[s("p",null,'"."代表的就是当前目录（即第一步新建的文件夹）')],-1),f=s("div",{class:"language-bash"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},".")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./app")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"│  "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./app/3rdparty")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"│  "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./app/apps")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"│"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   ├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ...省略")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"│  "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," └──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./app/version.php")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./db")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"│  "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./db/base")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"│  "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./db/global")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"│"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   ├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ...省略")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"│  "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," └──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./db/postmaster.pid")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./docker-compose.yaml"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"   #docker模板文件")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"└──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./init_secrets"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"          #这个文件夹以及下方的txt文件都需要自己新建")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    ├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./init_secrets/nextcloud_admin_password.txt"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," #填入你想要设置的nextcloud的管理员密码")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    ├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./init_secrets/nextcloud_admin_user.txt"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"     #填入你想要设置的nextcloud的管理员账号")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    ├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./init_secrets/postgres_db.txt"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"              #填入使用的postgres数据库的数据库名")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    ├──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./init_secrets/postgres_password.txt"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        #填入使用的postgres数据库的数据库密码")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    └──"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./init_secrets/postgres_user.txt"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            #填入使用的postgres数据库的访问用户名")])])]),s("button",{class:"collapse"})],-1),b={id:"启动docker-compose并配置访问域名",tabindex:"-1"},x=s("ol",null,[s("li",null,[i("启动docker"),s("code",null,"sudo docker-compose up -d")]),s("li",null,[i("如果没有任何Error报错并且compose正常起来了，那就可以试着访问"),s("code",null,"http://$IP:9002/"),i("来访问你的nextcloud的站点了")]),s("li",null,[i("记得填写在"),s("code",null,"./init_secrets/"),i("下当时新建的文件中的信息（账号密码等）")]),s("li",null,"一般你会遇到这个问题：“您正在访问来自不信任域名的服务器”，那么该如何解决呢？")],-1),A={id:"添加受信任的域名或者ip访问nextcloud站点",tabindex:"-1"},v=s("ol",null,[s("li",null,[i("查看nextcloud容器状态"),s("code",null,"docker ps -a")])],-1),w=s("div",{class:"language-bash"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"CONTAINER"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   IMAGE"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                                COMMAND"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                  CREATED"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"        STATUS"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                  PORTS"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                                                           NAMES")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"83bedf582a71"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   nextcloud"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'                            "/entrypoint.sh apac…"'),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"   5"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," hours"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ago"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    Up"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 4"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," hours"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"              0.0"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},".0.0:9002"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"-"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"80/tcp,"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :::9002"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"-"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"80/tcp"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                           nextcloud")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"7cf9ee8751af"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   postgres:12"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'                          "docker-entrypoint.s…"'),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"   5"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," hours"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ago"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    Up"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 5"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," hours"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"              5432"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/tcp"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                                                        nextcloud_db")])])]),s("button",{class:"collapse"})],-1),S=s("ol",null,[s("li",null,[i("进入nextcloud的docker控制台"),s("code",null,"docker exec -it $ID bash")]),s("li",null,[i("搜寻一下nextcloud的config.php配置文件"),s("code",null,'find / -name "config.php"')])],-1),O=s("div",{class:"language-bash"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"/var/www/html/config/config.php")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"find:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '/proc/1/map_files':"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Operation"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," not"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," permitted")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"find:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '/proc/32/map_files':"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Operation"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," not"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," permitted")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"find:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '/proc/33/map_files':"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Operation"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," not"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," permitted")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"find:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '/proc/34/map_files':"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Operation"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," not"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," permitted")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"find:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '/proc/35/map_files':"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Operation"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," not"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," permitted")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"find:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '/proc/36/map_files':"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Operation"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," not"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," permitted")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"find:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '/proc/37/map_files':"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Operation"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," not"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," permitted")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"find:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '/proc/38/map_files':"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Operation"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," not"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," permitted")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"find:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '/proc/44/map_files':"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Operation"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," not"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," permitted")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"find:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '/proc/45/map_files':"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Operation"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," not"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," permitted")])])]),s("button",{class:"collapse"})],-1),P=s("ol",null,[s("li",null,[i("nextcloud的容器中默认不带有绝大部分常用软件（指令），所以需要自己安装，先更新软件源"),s("code",null,"apt-get update")]),s("li",null,[i("然后安装vim编辑器"),s("code",null,"apt-get install vim -y"),i("，随后确保vim编辑器安装完成。")]),s("li",null,[i("编辑配置文件"),s("code",null,"vi /var/www/html/config/config.php"),i("，更改其中的'trusted_domains'配置文件（在"),s("code",null,"0 => '127.0.0.1',"),i("下面添加一行配置文件）：")])],-1),R=s("div",{class:"language-vim"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"vim"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'trusted_domains'"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"array"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        0"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'127.0.0.1'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        1"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"preg_match"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'/cli/i'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"php_sapi_name"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"())"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'127.0.0.1'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":$_SERVER["),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'SERVER_NAME'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"],")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"),")])])]),s("button",{class:"collapse"})],-1),N=s("img",{src:"https://pic.horon.top/images/2022/12/20/nextcloud-dashboard.png",alt:"nextcloud-dashboard.png"},null,-1),I={id:"更新nextcloud",tabindex:"-1"},$=s("p",null,"当提示有新的版本可以升级时，可以使用下面的命令进行升级:",-1),T=s("div",{class:"language-bash"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"docker-compose"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," down")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"docker-compose"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," pull")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"docker-compose"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," up"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -d")])])]),s("button",{class:"collapse"})],-1);function L(a,M,U,V,n,G){const h=c,r=p;return F(),g(r,{frontmatter:n.frontmatter,data:n.data},{"main-content-md":l(()=>[s("h1",u,[i("使用docker-compose创建、配置nextcloud "),e(h,{class:"header-anchor",href:"#使用docker-compose创建、配置nextcloud","aria-label":'Permalink to "使用docker-compose创建、配置nextcloud"'},{default:l(()=>[i("​")]),_:1})]),s("p",null,[i("参考博文（docker-compose来源）："),e(h,{href:"https://blog.csdn.net/shangyexin/article/details/106306680",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("https://blog.csdn.net/shangyexin/article/details/106306680")]),_:1})]),s("h2",C,[i("创建一个用于存放nextcloud文件的目录，并在其中新建名为docker-compose.yaml的文件写入以下内容 "),e(h,{class:"header-anchor",href:"#创建一个用于存放nextcloud文件的目录-并在其中新建名为docker-compose-yaml的文件写入以下内容","aria-label":'Permalink to "创建一个用于存放nextcloud文件的目录，并在其中新建名为docker-compose.yaml的文件写入以下内容"'},{default:l(()=>[i("​")]),_:1})]),m,s("h2",B,[i("在docker-compose文件夹下添加一些配置文件 "),e(h,{class:"header-anchor",href:"#在docker-compose文件夹下添加一些配置文件","aria-label":'Permalink to "在docker-compose文件夹下添加一些配置文件"'},{default:l(()=>[i("​")]),_:1})]),_,D,f,s("h2",b,[i("启动docker-compose并配置访问域名 "),e(h,{class:"header-anchor",href:"#启动docker-compose并配置访问域名","aria-label":'Permalink to "启动docker-compose并配置访问域名"'},{default:l(()=>[i("​")]),_:1})]),x,s("h2",A,[i("添加受信任的域名或者IP访问nextcloud站点 "),e(h,{class:"header-anchor",href:"#添加受信任的域名或者ip访问nextcloud站点","aria-label":'Permalink to "添加受信任的域名或者IP访问nextcloud站点"'},{default:l(()=>[i("​")]),_:1})]),v,w,S,O,P,R,s("p",null,[i("释义：$_SERVER[‘SERVER_NAME’] 为获得当前访问的域名或IP，最初只设置了server_name，后来在查看cron任务时，发现在cli模式下是无法获得的，所以增加了cli模式判断，cli模式直接给个本地IP忽悠程序，正常模式将当前访问的域名或IP动态的添加的信任的域名中。——来自"),e(h,{href:"https://www.codeprj.com/blog/a315071.html",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("https://www.codeprj.com/blog/a315071.html")]),_:1}),i(" 4. 保存退出，重启容器，over "),e(h,{href:"https://pic.horon.top/image/V8n",target:"_blank",rel:"noreferrer"},{default:l(()=>[N]),_:1})]),s("h1",I,[i("更新NextCloud "),e(h,{class:"header-anchor",href:"#更新nextcloud","aria-label":'Permalink to "更新NextCloud"'},{default:l(()=>[i("​")]),_:1})]),$,T]),"main-header":l(()=>[t(a.$slots,"main-header")]),"main-header-after":l(()=>[t(a.$slots,"main-header-after")]),"main-nav":l(()=>[t(a.$slots,"main-nav")]),"main-content":l(()=>[t(a.$slots,"main-content")]),"main-content-after":l(()=>[t(a.$slots,"main-content-after")]),"main-nav-before":l(()=>[t(a.$slots,"main-nav-before")]),"main-nav-after":l(()=>[t(a.$slots,"main-nav-after")]),comment:l(()=>[t(a.$slots,"comment")]),footer:l(()=>[t(a.$slots,"footer")]),aside:l(()=>[t(a.$slots,"aside")]),"aside-custom":l(()=>[t(a.$slots,"aside-custom")]),default:l(()=>[t(a.$slots,"default")]),_:3},8,["frontmatter","data"])}const J=d(y,[["render",L]]);export{k as data,J as default};
