var to=Object.defineProperty;var no=(t,e,n)=>e in t?to(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ee=(t,e,n)=>(no(t,typeof e!="symbol"?e+"":e,n),n),ao=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var qt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var Ct=(t,e,n)=>(ao(t,e,"access private method"),n);import{d as ne,x as De,q as vt,o as d,e as f,F,k as te,l as k,f as m,t as z,c as K,s as I,v as D,_ as Ra,D as lo,E as R,G as oo,H as ro,I as ge,J as ct,h as P,K as io,L as so,M as Ut,N as co,r as oe,O as uo,P as Aa,Q as po,R as Rt,S as Be,m as N,U as he,V as ce,W as Fe,X as Sa,n as ut,Y as za,Z as Ta,$ as sn,a0 as ja,g as se,a1 as Ma,a2 as Va,p as Ua,a3 as T,a4 as me,a5 as Ha,a6 as Oa,a7 as cn,a as Pa,a8 as ho,a9 as mo,aa as Na,w as Ce,ab as fo,ac as vo,ad as go,ae as Oe,A as Da,af as ko,ag as Ba,ah as yo,ai as wo,aj as bo,ak as $o,al as _o,am as xo,an as Co,ao as Lt,ap as Lo,y as Io,aq as Eo,u as Ro,ar as Ao}from"./app-DYGYtZ5U.js";import{_ as So}from"./YunFooter.vue_vue_type_script_setup_true_lang-B9Dth9xg.js";import{_ as Fa}from"./YunCard.vue_vue_type_script_setup_true_lang-ZIvkhB7t.js";import{_ as zo}from"./YunPageHeader.vue_vue_type_script_setup_true_lang-nY4cFgbl.js";import{s as Mn}from"./index-C7yU5XnD.js";const To=["lang"],jo=["href"],Mo=ne({__name:"YunOutlineItem",props:{headers:{},onClick:{type:Function},root:{type:Boolean}},setup(t){const{locale:e}=De();return(n,a)=>{const o=vt("YunOutlineItem",!0);return d(),f("ul",{class:D(n.root?"root":"nested")},[(d(!0),f(F,null,te(n.headers,({children:l,link:r,title:i,lang:s})=>(d(),f("li",{key:r,class:"va-toc-item",lang:s||k(e)},[m("a",{class:"outline-link",href:r,onClick:a[0]||(a[0]=(...u)=>n.onClick&&n.onClick(...u))},z(i),9,jo),l!=null&&l.length?(d(),K(o,{key:0,headers:l,"on-click":n.onClick},null,8,["headers","on-click"])):I("v-if",!0)],8,To))),128))],2)}}}),Vo=Ra(Mo,[["__scopeId","data-v-699db71a"]]),Uo=t=>(io("data-v-75b693dc"),t=t(),so(),t),Ho={class:"content"},Oo={class:"outline-title"},Po={"aria-labelledby":"doc-outline-aria-label"},No=Uo(()=>m("span",{id:"doc-outline-aria-label",class:"visually-hidden"}," Table of Contents for current page ",-1)),Do=ne({__name:"YunOutline",setup(t){const e=lo(),n=R(),a=R();oo(n,a);const{headers:o,handleClick:l}=ro();return(r,i)=>{const s=Vo;return ge((d(),f("div",{ref_key:"container",ref:n},[m("div",Ho,[m("div",Oo,z(k(e).outlineTitle||"On this page"),1),m("div",{ref_key:"marker",ref:a,class:"outline-marker"},null,512),m("nav",Po,[No,P(s,{class:"va-toc relative z-1 css-i18n-toc",headers:k(o),"on-click":k(l),root:""},null,8,["headers","on-click"])])])],512)),[[ct,k(o).length]])}}}),Bo=Ra(Do,[["__scopeId","data-v-75b693dc"]]),Fo=m("div",{"i-ri-file-list-line":""},null,-1),Wo=[Fo],qo={class:"aside-container",flex:"~ col"},Go={key:0,m:"t-6 b-2",font:"serif black"},Zo=m("div",{class:"flex-grow"},null,-1),Yo={key:2,class:"custom-container"},Ko=ne({__name:"YunAside",setup(t){const e=Ut(),{t:n}=De(),a=co();return(o,l)=>{const r=uo,i=Bo;return d(),f(F,null,[m("button",{class:"xl:hidden toc-btn shadow fixed yun-icon-btn z-350",opacity:"75",right:"2",bottom:"19",onClick:l[0]||(l[0]=s=>k(a).toggleRightSidebar())},Wo),P(r,{show:k(a).isRightSidebarOpen,onClick:l[1]||(l[1]=s=>k(a).toggleRightSidebar())},null,8,["show"]),I("  "),m("aside",{class:D(["va-card yun-aside",k(a).isRightSidebarOpen&&"open"]),m:"l-4",text:"center",overflow:"auto"},[m("div",qo,[k(e).toc!==!1?(d(),f("h2",Go,z(k(n)("sidebar.toc")),1)):I("v-if",!0),k(e).toc!==!1?(d(),K(i,{key:1})):I("v-if",!0),Zo,o.$slots.default?(d(),f("div",Yo,[oe(o.$slots,"default")])):I("v-if",!0)])],2)],64)}}}),Qo={id:"tcomment",w:"full"},Xo=ne({__name:"YunTwikoo",setup(t){return Aa(po)||(void 0)(),(e,n)=>(d(),f("div",Qo))}}),Wa={"Content-Type":"application/json"},Ve=t=>`${t.replace(/\/?$/,"/")}api/`,We=(t,e="")=>{if(typeof t=="object"&&t.errno)throw new TypeError(`${e} failed with ${t.errno}: ${t.errmsg}`);return t},un=({serverURL:t,lang:e,paths:n,type:a,signal:o})=>fetch(`${Ve(t)}article?path=${encodeURIComponent(n.join(","))}&type=${encodeURIComponent(a.join(","))}&lang=${e}`,{signal:o}).then(l=>l.json()).then(l=>We(l,"Get counter").data),dt=({serverURL:t,lang:e,path:n,type:a,action:o})=>fetch(`${Ve(t)}article?lang=${e}`,{method:"POST",headers:Wa,body:JSON.stringify({path:n,type:a,action:o})}).then(l=>l.json()).then(l=>We(l,"Update counter").data),qa=({serverURL:t,lang:e,path:n,page:a,pageSize:o,sortBy:l,signal:r,token:i})=>{const s={};return i&&(s.Authorization=`Bearer ${i}`),fetch(`${Ve(t)}comment?path=${encodeURIComponent(n)}&pageSize=${o}&page=${a}&lang=${e}&sortBy=${l}`,{signal:r,headers:s}).then(u=>u.json()).then(u=>We(u,"Get comment data").data)},Ga=({serverURL:t,lang:e,token:n,comment:a})=>{const o={"Content-Type":"application/json"};return n&&(o.Authorization=`Bearer ${n}`),fetch(`${Ve(t)}comment?lang=${e}`,{method:"POST",headers:o,body:JSON.stringify(a)}).then(l=>l.json())},Za=({serverURL:t,lang:e,token:n,objectId:a})=>fetch(`${Ve(t)}comment/${a}?lang=${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}}).then(o=>o.json()).then(o=>We(o,"Delete comment")),Le=({serverURL:t,lang:e,token:n,objectId:a,comment:o})=>fetch(`${Ve(t)}comment/${a}?lang=${e}`,{method:"PUT",headers:{...Wa,Authorization:`Bearer ${n}`},body:JSON.stringify(o)}).then(l=>l.json()).then(l=>We(l,"Update comment")),Jo=({serverURL:t,lang:e,paths:n,signal:a})=>fetch(`${Ve(t)}comment?type=count&url=${encodeURIComponent(n.join(","))}&lang=${e}`,{signal:a}).then(o=>o.json()).then(o=>We(o,"Get comment count").data),Ya=({lang:t,serverURL:e})=>{const n=(window.innerWidth-450)/2,a=(window.innerHeight-450)/2,o=window.open(`${e.replace(/\/$/,"")}/ui/login?lng=${encodeURIComponent(t)}`,"_blank",`width=450,height=450,left=${n},top=${a},scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`);return o==null||o.postMessage({type:"TOKEN",data:null},"*"),new Promise(l=>{const r=({data:i})=>{!i||typeof i!="object"||i.type!=="userInfo"||i.data.token&&(o==null||o.close(),window.removeEventListener("message",r),l(i.data))};window.addEventListener("message",r)})},er=({serverURL:t,lang:e,paths:n,signal:a})=>un({serverURL:t,lang:e,paths:n,type:["time"],signal:a}),tr=t=>dt({...t,type:"time",action:"inc"});var rt=new Map;function nr(t){var e=rt.get(t);e&&e.destroy()}function ar(t){var e=rt.get(t);e&&e.update()}var ot=null;typeof window>"u"?((ot=function(t){return t}).destroy=function(t){return t},ot.update=function(t){return t}):((ot=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(n){return function(a){if(a&&a.nodeName&&a.nodeName==="TEXTAREA"&&!rt.has(a)){var o,l=null,r=window.getComputedStyle(a),i=(o=a.value,function(){u({testForHeightReduction:o===""||!a.value.startsWith(o),restoreTextAlign:null}),o=a.value}),s=(function(y){a.removeEventListener("autosize:destroy",s),a.removeEventListener("autosize:update",c),a.removeEventListener("input",i),window.removeEventListener("resize",c),Object.keys(y).forEach(function(p){return a.style[p]=y[p]}),rt.delete(a)}).bind(a,{height:a.style.height,resize:a.style.resize,textAlign:a.style.textAlign,overflowY:a.style.overflowY,overflowX:a.style.overflowX,wordWrap:a.style.wordWrap});a.addEventListener("autosize:destroy",s),a.addEventListener("autosize:update",c),a.addEventListener("input",i),window.addEventListener("resize",c),a.style.overflowX="hidden",a.style.wordWrap="break-word",rt.set(a,{destroy:s,update:c}),c()}function u(y){var p,$,S=y.restoreTextAlign,_=S===void 0?null:S,b=y.testForHeightReduction,h=b===void 0||b,w=r.overflowY;if(a.scrollHeight!==0&&(r.resize==="vertical"?a.style.resize="none":r.resize==="both"&&(a.style.resize="horizontal"),h&&(p=function(M){for(var A=[];M&&M.parentNode&&M.parentNode instanceof Element;)M.parentNode.scrollTop&&A.push([M.parentNode,M.parentNode.scrollTop]),M=M.parentNode;return function(){return A.forEach(function(V){var re=V[0],O=V[1];re.style.scrollBehavior="auto",re.scrollTop=O,re.style.scrollBehavior=null})}}(a),a.style.height=""),$=r.boxSizing==="content-box"?a.scrollHeight-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)):a.scrollHeight+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),r.maxHeight!=="none"&&$>parseFloat(r.maxHeight)?(r.overflowY==="hidden"&&(a.style.overflow="scroll"),$=parseFloat(r.maxHeight)):r.overflowY!=="hidden"&&(a.style.overflow="hidden"),a.style.height=$+"px",_&&(a.style.textAlign=_),p&&p(),l!==$&&(a.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),l=$),w!==r.overflow&&!_)){var U=r.textAlign;r.overflow==="hidden"&&(a.style.textAlign=U==="start"?"end":"start"),u({restoreTextAlign:U,testForHeightReduction:!0})}}function c(){u({testForHeightReduction:!0,restoreTextAlign:null})}}(n)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],nr),t},ot.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],ar),t});var At=ot;function dn(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ue=dn();function Ka(t){Ue=t}const Qa=/[&<>"']/,lr=new RegExp(Qa.source,"g"),Xa=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,or=new RegExp(Xa.source,"g"),rr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vn=t=>rr[t];function pe(t,e){if(e){if(Qa.test(t))return t.replace(lr,Vn)}else if(Xa.test(t))return t.replace(or,Vn);return t}const ir=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function sr(t){return t.replace(ir,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const cr=/(^|[^\[])\^/g;function X(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const a={replace:(o,l)=>{let r=typeof l=="string"?l:l.source;return r=r.replace(cr,"$1"),n=n.replace(o,r),a},getRegex:()=>new RegExp(n,e)};return a}function Un(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const it={exec:()=>null};function Hn(t,e){const n=t.replace(/\|/g,(l,r,i)=>{let s=!1,u=r;for(;--u>=0&&i[u]==="\\";)s=!s;return s?"|":" |"}),a=n.split(/ \|/);let o=0;if(a[0].trim()||a.shift(),a.length>0&&!a[a.length-1].trim()&&a.pop(),e)if(a.length>e)a.splice(e);else for(;a.length<e;)a.push("");for(;o<a.length;o++)a[o]=a[o].trim().replace(/\\\|/g,"|");return a}function It(t,e,n){const a=t.length;if(a===0)return"";let o=0;for(;o<a;){const l=t.charAt(a-o-1);if(l===e&&!n)o++;else if(l!==e&&n)o++;else break}return t.slice(0,a-o)}function ur(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let a=0;a<t.length;a++)if(t[a]==="\\")a++;else if(t[a]===e[0])n++;else if(t[a]===e[1]&&(n--,n<0))return a;return-1}function On(t,e,n,a){const o=e.href,l=e.title?pe(e.title):null,r=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){a.state.inLink=!0;const i={type:"link",raw:n,href:o,title:l,text:r,tokens:a.inlineTokens(r)};return a.state.inLink=!1,i}return{type:"image",raw:n,href:o,title:l,text:pe(r)}}function dr(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const a=n[1];return e.split(`
`).map(o=>{const l=o.match(/^\s+/);if(l===null)return o;const[r]=l;return r.length>=a.length?o.slice(a.length):o}).join(`
`)}class St{constructor(e){ee(this,"options");ee(this,"rules");ee(this,"lexer");this.options=e||Ue}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const a=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?a:It(a,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const a=n[0],o=dr(a,n[3]||"");return{type:"code",raw:a,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:o}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let a=n[2].trim();if(/#$/.test(a)){const o=It(a,"#");(this.options.pedantic||!o||/ $/.test(o))&&(a=o.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:a,tokens:this.lexer.inline(a)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const a=It(n[0].replace(/^ *>[ \t]?/gm,""),`
`),o=this.lexer.state.top;this.lexer.state.top=!0;const l=this.lexer.blockTokens(a);return this.lexer.state.top=o,{type:"blockquote",raw:n[0],tokens:l,text:a}}}list(e){let n=this.rules.block.list.exec(e);if(n){let a=n[1].trim();const o=a.length>1,l={type:"list",raw:"",ordered:o,start:o?+a.slice(0,-1):"",loose:!1,items:[]};a=o?`\\d{1,9}\\${a.slice(-1)}`:`\\${a}`,this.options.pedantic&&(a=o?a:"[*+-]");const r=new RegExp(`^( {0,3}${a})((?:[	 ][^\\n]*)?(?:\\n|$))`);let i="",s="",u=!1;for(;e;){let c=!1;if(!(n=r.exec(e))||this.rules.block.hr.test(e))break;i=n[0],e=e.substring(i.length);let y=n[2].split(`
`,1)[0].replace(/^\t+/,h=>" ".repeat(3*h.length)),p=e.split(`
`,1)[0],$=0;this.options.pedantic?($=2,s=y.trimStart()):($=n[2].search(/[^ ]/),$=$>4?1:$,s=y.slice($),$+=n[1].length);let S=!1;if(!y&&/^ *$/.test(p)&&(i+=p+`
`,e=e.substring(p.length+1),c=!0),!c){const h=new RegExp(`^ {0,${Math.min(3,$-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,$-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),U=new RegExp(`^ {0,${Math.min(3,$-1)}}(?:\`\`\`|~~~)`),M=new RegExp(`^ {0,${Math.min(3,$-1)}}#`);for(;e;){const A=e.split(`
`,1)[0];if(p=A,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),U.test(p)||M.test(p)||h.test(p)||w.test(e))break;if(p.search(/[^ ]/)>=$||!p.trim())s+=`
`+p.slice($);else{if(S||y.search(/[^ ]/)>=4||U.test(y)||M.test(y)||w.test(y))break;s+=`
`+p}!S&&!p.trim()&&(S=!0),i+=A+`
`,e=e.substring(A.length+1),y=p.slice($)}}l.loose||(u?l.loose=!0:/\n *\n *$/.test(i)&&(u=!0));let _=null,b;this.options.gfm&&(_=/^\[[ xX]\] /.exec(s),_&&(b=_[0]!=="[ ] ",s=s.replace(/^\[[ xX]\] +/,""))),l.items.push({type:"list_item",raw:i,task:!!_,checked:b,loose:!1,text:s,tokens:[]}),l.raw+=i}l.items[l.items.length-1].raw=i.trimEnd(),l.items[l.items.length-1].text=s.trimEnd(),l.raw=l.raw.trimEnd();for(let c=0;c<l.items.length;c++)if(this.lexer.state.top=!1,l.items[c].tokens=this.lexer.blockTokens(l.items[c].text,[]),!l.loose){const y=l.items[c].tokens.filter($=>$.type==="space"),p=y.length>0&&y.some($=>/\n.*\n/.test($.raw));l.loose=p}if(l.loose)for(let c=0;c<l.items.length;c++)l.items[c].loose=!0;return l}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const a=n[1].toLowerCase().replace(/\s+/g," "),o=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:a,raw:n[0],href:o,title:l}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const a=Hn(n[1]),o=n[2].replace(/^\||\| *$/g,"").split("|"),l=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],r={type:"table",raw:n[0],header:[],align:[],rows:[]};if(a.length===o.length){for(const i of o)/^ *-+: *$/.test(i)?r.align.push("right"):/^ *:-+: *$/.test(i)?r.align.push("center"):/^ *:-+ *$/.test(i)?r.align.push("left"):r.align.push(null);for(const i of a)r.header.push({text:i,tokens:this.lexer.inline(i)});for(const i of l)r.rows.push(Hn(i,r.header.length).map(s=>({text:s,tokens:this.lexer.inline(s)})));return r}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const a=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:a,tokens:this.lexer.inline(a)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:pe(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const a=n[2].trim();if(!this.options.pedantic&&/^</.test(a)){if(!/>$/.test(a))return;const r=It(a.slice(0,-1),"\\");if((a.length-r.length)%2===0)return}else{const r=ur(n[2],"()");if(r>-1){const s=(n[0].indexOf("!")===0?5:4)+n[1].length+r;n[2]=n[2].substring(0,r),n[0]=n[0].substring(0,s).trim(),n[3]=""}}let o=n[2],l="";if(this.options.pedantic){const r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);r&&(o=r[1],l=r[3])}else l=n[3]?n[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(a)?o=o.slice(1):o=o.slice(1,-1)),On(n,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let a;if((a=this.rules.inline.reflink.exec(e))||(a=this.rules.inline.nolink.exec(e))){const o=(a[2]||a[1]).replace(/\s+/g," "),l=n[o.toLowerCase()];if(!l){const r=a[0].charAt(0);return{type:"text",raw:r,text:r}}return On(a,l,a[0],this.lexer)}}emStrong(e,n,a=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(!o||o[3]&&a.match(/[\p{L}\p{N}]/u))return;if(!(o[1]||o[2]||"")||!a||this.rules.inline.punctuation.exec(a)){const r=[...o[0]].length-1;let i,s,u=r,c=0;const y=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(y.lastIndex=0,n=n.slice(-1*e.length+r);(o=y.exec(n))!=null;){if(i=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!i)continue;if(s=[...i].length,o[3]||o[4]){u+=s;continue}else if((o[5]||o[6])&&r%3&&!((r+s)%3)){c+=s;continue}if(u-=s,u>0)continue;s=Math.min(s,s+u+c);const p=[...o[0]][0].length,$=e.slice(0,r+o.index+p+s);if(Math.min(r,s)%2){const _=$.slice(1,-1);return{type:"em",raw:$,text:_,tokens:this.lexer.inlineTokens(_)}}const S=$.slice(2,-2);return{type:"strong",raw:$,text:S,tokens:this.lexer.inlineTokens(S)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let a=n[2].replace(/\n/g," ");const o=/[^ ]/.test(a),l=/^ /.test(a)&&/ $/.test(a);return o&&l&&(a=a.substring(1,a.length-1)),a=pe(a,!0),{type:"codespan",raw:n[0],text:a}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let a,o;return n[2]==="@"?(a=pe(n[1]),o="mailto:"+a):(a=pe(n[1]),o=a),{type:"link",raw:n[0],text:a,href:o,tokens:[{type:"text",raw:a,text:a}]}}}url(e){var a;let n;if(n=this.rules.inline.url.exec(e)){let o,l;if(n[2]==="@")o=pe(n[0]),l="mailto:"+o;else{let r;do r=n[0],n[0]=((a=this.rules.inline._backpedal.exec(n[0]))==null?void 0:a[0])??"";while(r!==n[0]);o=pe(n[0]),n[1]==="www."?l="http://"+n[0]:l=n[0]}return{type:"link",raw:n[0],text:o,href:l,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let a;return this.lexer.state.inRawBlock?a=n[0]:a=pe(n[0]),{type:"text",raw:n[0],text:a}}}}const pr=/^(?: *(?:\n|$))+/,hr=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,mr=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,gt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,fr=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ja=/(?:[*+-]|\d{1,9}[.)])/,el=X(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ja).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),pn=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,vr=/^[^\n]+/,hn=/(?!\s*\])(?:\\.|[^\[\]\\])+/,gr=X(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",hn).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),kr=X(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ja).getRegex(),Ht="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",mn=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,yr=X("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",mn).replace("tag",Ht).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),tl=X(pn).replace("hr",gt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ht).getRegex(),wr=X(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",tl).getRegex(),fn={blockquote:wr,code:hr,def:gr,fences:mr,heading:fr,hr:gt,html:yr,lheading:el,list:kr,newline:pr,paragraph:tl,table:it,text:vr},Pn=X("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",gt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ht).getRegex(),br={...fn,table:Pn,paragraph:X(pn).replace("hr",gt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Pn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ht).getRegex()},$r={...fn,html:X(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",mn).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:it,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:X(pn).replace("hr",gt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",el).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},nl=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,_r=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,al=/^( {2,}|\\)\n(?!\s*$)/,xr=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,kt="\\p{P}\\p{S}",Cr=X(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,kt).getRegex(),Lr=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Ir=X(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,kt).getRegex(),Er=X("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,kt).getRegex(),Rr=X("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,kt).getRegex(),Ar=X(/\\([punct])/,"gu").replace(/punct/g,kt).getRegex(),Sr=X(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),zr=X(mn).replace("(?:-->|$)","-->").getRegex(),Tr=X("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",zr).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),zt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,jr=X(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",zt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ll=X(/^!?\[(label)\]\[(ref)\]/).replace("label",zt).replace("ref",hn).getRegex(),ol=X(/^!?\[(ref)\](?:\[\])?/).replace("ref",hn).getRegex(),Mr=X("reflink|nolink(?!\\()","g").replace("reflink",ll).replace("nolink",ol).getRegex(),vn={_backpedal:it,anyPunctuation:Ar,autolink:Sr,blockSkip:Lr,br:al,code:_r,del:it,emStrongLDelim:Ir,emStrongRDelimAst:Er,emStrongRDelimUnd:Rr,escape:nl,link:jr,nolink:ol,punctuation:Cr,reflink:ll,reflinkSearch:Mr,tag:Tr,text:xr,url:it},Vr={...vn,link:X(/^!?\[(label)\]\((.*?)\)/).replace("label",zt).getRegex(),reflink:X(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zt).getRegex()},tn={...vn,escape:X(nl).replace("])","~|])").getRegex(),url:X(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ur={...tn,br:X(al).replace("{2,}","*").getRegex(),text:X(tn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Et={normal:fn,gfm:br,pedantic:$r},lt={normal:vn,gfm:tn,breaks:Ur,pedantic:Vr};class ke{constructor(e){ee(this,"tokens");ee(this,"options");ee(this,"state");ee(this,"tokenizer");ee(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ue,this.options.tokenizer=this.options.tokenizer||new St,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Et.normal,inline:lt.normal};this.options.pedantic?(n.block=Et.pedantic,n.inline=lt.pedantic):this.options.gfm&&(n.block=Et.gfm,this.options.breaks?n.inline=lt.breaks:n.inline=lt.gfm),this.tokenizer.rules=n}static get rules(){return{block:Et,inline:lt}}static lex(e,n){return new ke(n).lex(e)}static lexInline(e,n){return new ke(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const a=this.inlineQueue[n];this.inlineTokens(a.src,a.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(i,s,u)=>s+"    ".repeat(u.length));let a,o,l,r;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(i=>(a=i.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))){if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length),a.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+a.raw,o.text+=`
`+a.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),n.push(a);continue}if(l=e,this.options.extensions&&this.options.extensions.startBlock){let i=1/0;const s=e.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},s),typeof u=="number"&&u>=0&&(i=Math.min(i,u))}),i<1/0&&i>=0&&(l=e.substring(0,i+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){o=n[n.length-1],r&&o.type==="paragraph"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(a),r=l.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length),o=n[n.length-1],o&&o.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(a);continue}if(e){const i="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let a,o,l,r=e,i,s,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)c.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(s||(u=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(a=c.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))){if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),o=n[n.length-1],o&&a.type==="text"&&o.type==="text"?(o.raw+=a.raw,o.text+=a.text):n.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length),o=n[n.length-1],o&&a.type==="text"&&o.type==="text"?(o.raw+=a.raw,o.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(e,r,u)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),n.push(a);continue}if(l=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const y=e.slice(1);let p;this.options.extensions.startInline.forEach($=>{p=$.call({lexer:this},y),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(u=a.raw.slice(-1)),s=!0,o=n[n.length-1],o&&o.type==="text"?(o.raw+=a.raw,o.text+=a.text):n.push(a);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class Tt{constructor(e){ee(this,"options");this.options=e||Ue}code(e,n,a){var l;const o=(l=(n||"").match(/^\S*/))==null?void 0:l[0];return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="language-'+pe(o)+'">'+(a?e:pe(e,!0))+`</code></pre>
`:"<pre><code>"+(a?e:pe(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,a){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}list(e,n,a){const o=n?"ol":"ul",l=n&&a!==1?' start="'+a+'"':"";return"<"+o+l+`>
`+e+"</"+o+`>
`}listitem(e,n,a){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const a=n.header?"th":"td";return(n.align?`<${a} align="${n.align}">`:`<${a}>`)+e+`</${a}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,n,a){const o=Un(e);if(o===null)return a;e=o;let l='<a href="'+e+'"';return n&&(l+=' title="'+n+'"'),l+=">"+a+"</a>",l}image(e,n,a){const o=Un(e);if(o===null)return a;e=o;let l=`<img src="${e}" alt="${a}"`;return n&&(l+=` title="${n}"`),l+=">",l}text(e){return e}}class gn{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,a){return""+a}image(e,n,a){return""+a}br(){return""}}class ye{constructor(e){ee(this,"options");ee(this,"renderer");ee(this,"textRenderer");this.options=e||Ue,this.options.renderer=this.options.renderer||new Tt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new gn}static parse(e,n){return new ye(n).parse(e)}static parseInline(e,n){return new ye(n).parseInline(e)}parse(e,n=!0){let a="";for(let o=0;o<e.length;o++){const l=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]){const r=l,i=this.options.extensions.renderers[r.type].call({parser:this},r);if(i!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(r.type)){a+=i||"";continue}}switch(l.type){case"space":continue;case"hr":{a+=this.renderer.hr();continue}case"heading":{const r=l;a+=this.renderer.heading(this.parseInline(r.tokens),r.depth,sr(this.parseInline(r.tokens,this.textRenderer)));continue}case"code":{const r=l;a+=this.renderer.code(r.text,r.lang,!!r.escaped);continue}case"table":{const r=l;let i="",s="";for(let c=0;c<r.header.length;c++)s+=this.renderer.tablecell(this.parseInline(r.header[c].tokens),{header:!0,align:r.align[c]});i+=this.renderer.tablerow(s);let u="";for(let c=0;c<r.rows.length;c++){const y=r.rows[c];s="";for(let p=0;p<y.length;p++)s+=this.renderer.tablecell(this.parseInline(y[p].tokens),{header:!1,align:r.align[p]});u+=this.renderer.tablerow(s)}a+=this.renderer.table(i,u);continue}case"blockquote":{const r=l,i=this.parse(r.tokens);a+=this.renderer.blockquote(i);continue}case"list":{const r=l,i=r.ordered,s=r.start,u=r.loose;let c="";for(let y=0;y<r.items.length;y++){const p=r.items[y],$=p.checked,S=p.task;let _="";if(p.task){const b=this.renderer.checkbox(!!$);u?p.tokens.length>0&&p.tokens[0].type==="paragraph"?(p.tokens[0].text=b+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&p.tokens[0].tokens[0].type==="text"&&(p.tokens[0].tokens[0].text=b+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",text:b+" "}):_+=b+" "}_+=this.parse(p.tokens,u),c+=this.renderer.listitem(_,S,!!$)}a+=this.renderer.list(c,i,s);continue}case"html":{const r=l;a+=this.renderer.html(r.text,r.block);continue}case"paragraph":{const r=l;a+=this.renderer.paragraph(this.parseInline(r.tokens));continue}case"text":{let r=l,i=r.tokens?this.parseInline(r.tokens):r.text;for(;o+1<e.length&&e[o+1].type==="text";)r=e[++o],i+=`
`+(r.tokens?this.parseInline(r.tokens):r.text);a+=n?this.renderer.paragraph(i):i;continue}default:{const r='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return a}parseInline(e,n){n=n||this.renderer;let a="";for(let o=0;o<e.length;o++){const l=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]){const r=this.options.extensions.renderers[l.type].call({parser:this},l);if(r!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){a+=r||"";continue}}switch(l.type){case"escape":{const r=l;a+=n.text(r.text);break}case"html":{const r=l;a+=n.html(r.text);break}case"link":{const r=l;a+=n.link(r.href,r.title,this.parseInline(r.tokens,n));break}case"image":{const r=l;a+=n.image(r.href,r.title,r.text);break}case"strong":{const r=l;a+=n.strong(this.parseInline(r.tokens,n));break}case"em":{const r=l;a+=n.em(this.parseInline(r.tokens,n));break}case"codespan":{const r=l;a+=n.codespan(r.text);break}case"br":{a+=n.br();break}case"del":{const r=l;a+=n.del(this.parseInline(r.tokens,n));break}case"text":{const r=l;a+=n.text(r.text);break}default:{const r='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return a}}class st{constructor(e){ee(this,"options");this.options=e||Ue}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}ee(st,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var ft,nn,Vt,rl;class kn{constructor(...e){qt(this,ft);qt(this,Vt);ee(this,"defaults",dn());ee(this,"options",this.setOptions);ee(this,"parse",Ct(this,ft,nn).call(this,ke.lex,ye.parse));ee(this,"parseInline",Ct(this,ft,nn).call(this,ke.lexInline,ye.parseInline));ee(this,"Parser",ye);ee(this,"Renderer",Tt);ee(this,"TextRenderer",gn);ee(this,"Lexer",ke);ee(this,"Tokenizer",St);ee(this,"Hooks",st);this.use(...e)}walkTokens(e,n){var o,l;let a=[];for(const r of e)switch(a=a.concat(n.call(this,r)),r.type){case"table":{const i=r;for(const s of i.header)a=a.concat(this.walkTokens(s.tokens,n));for(const s of i.rows)for(const u of s)a=a.concat(this.walkTokens(u.tokens,n));break}case"list":{const i=r;a=a.concat(this.walkTokens(i.items,n));break}default:{const i=r;(l=(o=this.defaults.extensions)==null?void 0:o.childTokens)!=null&&l[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{const u=i[s].flat(1/0);a=a.concat(this.walkTokens(u,n))}):i.tokens&&(a=a.concat(this.walkTokens(i.tokens,n)))}}return a}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(a=>{const o={...a};if(o.async=this.defaults.async||o.async||!1,a.extensions&&(a.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){const r=n.renderers[l.name];r?n.renderers[l.name]=function(...i){let s=l.renderer.apply(this,i);return s===!1&&(s=r.apply(this,i)),s}:n.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=n[l.level];r?r.unshift(l.tokenizer):n[l.level]=[l.tokenizer],l.start&&(l.level==="block"?n.startBlock?n.startBlock.push(l.start):n.startBlock=[l.start]:l.level==="inline"&&(n.startInline?n.startInline.push(l.start):n.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(n.childTokens[l.name]=l.childTokens)}),o.extensions=n),a.renderer){const l=this.defaults.renderer||new Tt(this.defaults);for(const r in a.renderer){if(!(r in l))throw new Error(`renderer '${r}' does not exist`);if(r==="options")continue;const i=r,s=a.renderer[i],u=l[i];l[i]=(...c)=>{let y=s.apply(l,c);return y===!1&&(y=u.apply(l,c)),y||""}}o.renderer=l}if(a.tokenizer){const l=this.defaults.tokenizer||new St(this.defaults);for(const r in a.tokenizer){if(!(r in l))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const i=r,s=a.tokenizer[i],u=l[i];l[i]=(...c)=>{let y=s.apply(l,c);return y===!1&&(y=u.apply(l,c)),y}}o.tokenizer=l}if(a.hooks){const l=this.defaults.hooks||new st;for(const r in a.hooks){if(!(r in l))throw new Error(`hook '${r}' does not exist`);if(r==="options")continue;const i=r,s=a.hooks[i],u=l[i];st.passThroughHooks.has(r)?l[i]=c=>{if(this.defaults.async)return Promise.resolve(s.call(l,c)).then(p=>u.call(l,p));const y=s.call(l,c);return u.call(l,y)}:l[i]=(...c)=>{let y=s.apply(l,c);return y===!1&&(y=u.apply(l,c)),y}}o.hooks=l}if(a.walkTokens){const l=this.defaults.walkTokens,r=a.walkTokens;o.walkTokens=function(i){let s=[];return s.push(r.call(this,i)),l&&(s=s.concat(l.call(this,i))),s}}this.defaults={...this.defaults,...o}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return ke.lex(e,n??this.defaults)}parser(e,n){return ye.parse(e,n??this.defaults)}}ft=new WeakSet,nn=function(e,n){return(a,o)=>{const l={...o},r={...this.defaults,...l};this.defaults.async===!0&&l.async===!1&&(r.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),r.async=!0);const i=Ct(this,Vt,rl).call(this,!!r.silent,!!r.async);if(typeof a>"u"||a===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof a!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(a)+", string expected"));if(r.hooks&&(r.hooks.options=r),r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(a):a).then(s=>e(s,r)).then(s=>r.hooks?r.hooks.processAllTokens(s):s).then(s=>r.walkTokens?Promise.all(this.walkTokens(s,r.walkTokens)).then(()=>s):s).then(s=>n(s,r)).then(s=>r.hooks?r.hooks.postprocess(s):s).catch(i);try{r.hooks&&(a=r.hooks.preprocess(a));let s=e(a,r);r.hooks&&(s=r.hooks.processAllTokens(s)),r.walkTokens&&this.walkTokens(s,r.walkTokens);let u=n(s,r);return r.hooks&&(u=r.hooks.postprocess(u)),u}catch(s){return i(s)}}},Vt=new WeakSet,rl=function(e,n){return a=>{if(a.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const o="<p>An error occurred:</p><pre>"+pe(a.message+"",!0)+"</pre>";return n?Promise.resolve(o):o}if(n)return Promise.reject(a);throw a}};const je=new kn;function Q(t,e){return je.parse(t,e)}Q.options=Q.setOptions=function(t){return je.setOptions(t),Q.defaults=je.defaults,Ka(Q.defaults),Q};Q.getDefaults=dn;Q.defaults=Ue;Q.use=function(...t){return je.use(...t),Q.defaults=je.defaults,Ka(Q.defaults),Q};Q.walkTokens=function(t,e){return je.walkTokens(t,e)};Q.parseInline=je.parseInline;Q.Parser=ye;Q.parser=ye.parse;Q.Renderer=Tt;Q.TextRenderer=gn;Q.Lexer=ke;Q.lexer=ke.lex;Q.Tokenizer=St;Q.Hooks=st;Q.parse=Q;Q.options;Q.setOptions;Q.use;Q.walkTokens;Q.parseInline;ye.parse;ke.lex;function il(t){if(typeof t=="function"&&(t={highlight:t}),!t||typeof t.highlight!="function")throw new Error("Must provide highlight function");return typeof t.langPrefix!="string"&&(t.langPrefix="language-"),{async:!!t.async,walkTokens(e){if(e.type!=="code")return;const n=Nn(e.lang);if(t.async)return Promise.resolve(t.highlight(e.text,n,e.lang||"")).then(Dn(e));const a=t.highlight(e.text,n,e.lang||"");if(a instanceof Promise)throw new Error("markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.");Dn(e)(a)},renderer:{code(e,n,a){const o=Nn(n),l=o?` class="${t.langPrefix}${Fn(o)}"`:"";return e=e.replace(/\n$/,""),`<pre><code${l}>${a?e:Fn(e,!0)}
</code></pre>`}}}}function Nn(t){return(t||"").match(/\S*/)[0]}function Dn(t){return e=>{typeof e=="string"&&e!==t.text&&(t.escaped=!0,t.text=e)}}const sl=/[&<>"']/,Hr=new RegExp(sl.source,"g"),cl=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Or=new RegExp(cl.source,"g"),Pr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bn=t=>Pr[t];function Fn(t,e){if(e){if(sl.test(t))return t.replace(Hr,Bn)}else if(cl.test(t))return t.replace(Or,Bn);return t}var yn={},Pe={},yt={},Nr=Rt&&Rt.__awaiter||function(t,e,n,a){function o(l){return l instanceof n?l:new n(function(r){r(l)})}return new(n||(n=Promise))(function(l,r){function i(c){try{u(a.next(c))}catch(y){r(y)}}function s(c){try{u(a.throw(c))}catch(y){r(y)}}function u(c){c.done?l(c.value):o(c.value).then(i,s)}u((a=a.apply(t,e||[])).next())})},Dr=Rt&&Rt.__generator||function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,o,l,r;return r={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function i(u){return function(c){return s([u,c])}}function s(u){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,o&&(l=u[0]&2?o.return:u[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,u[1])).done)return l;switch(o=0,l&&(u=[u[0]&2,l.value]),u[0]){case 0:case 1:l=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!l||u[1]>l[0]&&u[1]<l[3])){n.label=u[1];break}if(u[0]===6&&n.label<l[1]){n.label=l[1],l=u;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(u);break}l[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],o=0}finally{a=l=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(yt,"__esModule",{value:!0});yt.ReCaptchaInstance=void 0;var Br=function(){function t(e,n,a){this.siteKey=e,this.recaptchaID=n,this.recaptcha=a,this.styleContainer=null}return t.prototype.execute=function(e){return Nr(this,void 0,void 0,function(){return Dr(this,function(n){return[2,this.recaptcha.enterprise?this.recaptcha.enterprise.execute(this.recaptchaID,{action:e}):this.recaptcha.execute(this.recaptchaID,{action:e})]})})},t.prototype.getSiteKey=function(){return this.siteKey},t.prototype.hideBadge=function(){this.styleContainer===null&&(this.styleContainer=document.createElement("style"),this.styleContainer.innerHTML=".grecaptcha-badge{visibility:hidden !important;}",document.head.appendChild(this.styleContainer))},t.prototype.showBadge=function(){this.styleContainer!==null&&(document.head.removeChild(this.styleContainer),this.styleContainer=null)},t}();yt.ReCaptchaInstance=Br;Object.defineProperty(Pe,"__esModule",{value:!0});Pe.getInstance=Pe.load=void 0;var Fr=yt,xe;(function(t){t[t.NOT_LOADED=0]="NOT_LOADED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"})(xe||(xe={}));var ul=function(){function t(){}return t.load=function(e,n){if(n===void 0&&(n={}),typeof document>"u")return Promise.reject(new Error("This is a library for the browser!"));if(t.getLoadingState()===xe.LOADED)return t.instance.getSiteKey()===e?Promise.resolve(t.instance):Promise.reject(new Error("reCAPTCHA already loaded with different site key!"));if(t.getLoadingState()===xe.LOADING)return e!==t.instanceSiteKey?Promise.reject(new Error("reCAPTCHA already loaded with different site key!")):new Promise(function(o,l){t.successfulLoadingConsumers.push(function(r){return o(r)}),t.errorLoadingRunnable.push(function(r){return l(r)})});t.instanceSiteKey=e,t.setLoadingState(xe.LOADING);var a=new t;return new Promise(function(o,l){a.loadScript(e,n.useRecaptchaNet||!1,n.useEnterprise||!1,n.renderParameters?n.renderParameters:{},n.customUrl).then(function(){t.setLoadingState(xe.LOADED);var r=a.doExplicitRender(grecaptcha,e,n.explicitRenderParameters?n.explicitRenderParameters:{},n.useEnterprise||!1),i=new Fr.ReCaptchaInstance(e,r,grecaptcha);t.successfulLoadingConsumers.forEach(function(s){return s(i)}),t.successfulLoadingConsumers=[],n.autoHideBadge&&i.hideBadge(),t.instance=i,o(i)}).catch(function(r){t.errorLoadingRunnable.forEach(function(i){return i(r)}),t.errorLoadingRunnable=[],l(r)})})},t.getInstance=function(){return t.instance},t.setLoadingState=function(e){t.loadingState=e},t.getLoadingState=function(){return t.loadingState===null?xe.NOT_LOADED:t.loadingState},t.prototype.loadScript=function(e,n,a,o,l){var r=this;n===void 0&&(n=!1),a===void 0&&(a=!1),o===void 0&&(o={}),l===void 0&&(l="");var i=document.createElement("script");i.setAttribute("recaptcha-v3-script","");var s="https://www.google.com/recaptcha/api.js";n&&(a?s="https://recaptcha.net/recaptcha/enterprise.js":s="https://recaptcha.net/recaptcha/api.js"),a&&(s="https://www.google.com/recaptcha/enterprise.js"),l&&(s=l),o.render&&(o.render=void 0);var u=this.buildQueryString(o);return i.src=s+"?render=explicit"+u,new Promise(function(c,y){i.addEventListener("load",r.waitForScriptToLoad(function(){c(i)},a),!1),i.onerror=function(p){t.setLoadingState(xe.NOT_LOADED),y(p)},document.head.appendChild(i)})},t.prototype.buildQueryString=function(e){var n=Object.keys(e);return n.length<1?"":"&"+Object.keys(e).filter(function(a){return!!e[a]}).map(function(a){return a+"="+e[a]}).join("&")},t.prototype.waitForScriptToLoad=function(e,n){var a=this;return function(){window.grecaptcha===void 0?setTimeout(function(){a.waitForScriptToLoad(e,n)},t.SCRIPT_LOAD_DELAY):n?window.grecaptcha.enterprise.ready(function(){e()}):window.grecaptcha.ready(function(){e()})}},t.prototype.doExplicitRender=function(e,n,a,o){var l={sitekey:n,badge:a.badge,size:a.size,tabindex:a.tabindex};return a.container?o?e.enterprise.render(a.container,l):e.render(a.container,l):o?e.enterprise.render(l):e.render(l)},t.loadingState=null,t.instance=null,t.instanceSiteKey=null,t.successfulLoadingConsumers=[],t.errorLoadingRunnable=[],t.SCRIPT_LOAD_DELAY=25,t}();Pe.load=ul.load;Pe.getInstance=ul.getInstance;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ReCaptchaInstance=t.getInstance=t.load=void 0;var e=Pe;Object.defineProperty(t,"load",{enumerable:!0,get:function(){return e.load}}),Object.defineProperty(t,"getInstance",{enumerable:!0,get:function(){return e.getInstance}});var n=yt;Object.defineProperty(t,"ReCaptchaInstance",{enumerable:!0,get:function(){return n.ReCaptchaInstance}})})(yn);const Wn=({size:t})=>T("svg",{class:"wl-close-icon",viewBox:"0 0 1024 1024",width:t,height:t},[T("path",{d:"M697.173 85.333h-369.92c-144.64 0-241.92 101.547-241.92 252.587v348.587c0 150.613 97.28 252.16 241.92 252.16h369.92c144.64 0 241.494-101.547 241.494-252.16V337.92c0-151.04-96.854-252.587-241.494-252.587z",fill:"currentColor"}),T("path",{d:"m640.683 587.52-75.947-75.861 75.904-75.862a37.29 37.29 0 0 0 0-52.778 37.205 37.205 0 0 0-52.779 0l-75.946 75.818-75.862-75.946a37.419 37.419 0 0 0-52.821 0 37.419 37.419 0 0 0 0 52.821l75.947 75.947-75.776 75.733a37.29 37.29 0 1 0 52.778 52.821l75.776-75.776 75.947 75.947a37.376 37.376 0 0 0 52.779-52.821z",fill:"#888"})]),Wr=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},T("path",{d:"m341.013 394.667 27.755 393.45h271.83l27.733-393.45h64.106l-28.01 397.952a64 64 0 0 1-63.83 59.498H368.768a64 64 0 0 1-63.83-59.52l-28.053-397.93h64.128zm139.307 19.818v298.667h-64V414.485h64zm117.013 0v298.667h-64V414.485h64zM181.333 288h640v64h-640v-64zm453.483-106.667v64h-256v-64h256z",fill:"red"})),qr=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},T("path",{d:"M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z",fill:"currentColor"})),Gr=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[T("path",{d:"M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z",fill:"currentColor"}),T("path",{d:"M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z",fill:"currentColor"})]),Zr=({active:t=!1})=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[T("path",{d:`M850.654 323.804c-11.042-25.625-26.862-48.532-46.885-68.225-20.022-19.61-43.258-34.936-69.213-45.73-26.78-11.124-55.124-16.727-84.375-16.727-40.622 0-80.256 11.123-114.698 32.135A214.79 214.79 0 0 0 512 241.819a214.79 214.79 0 0 0-23.483-16.562c-34.442-21.012-74.076-32.135-114.698-32.135-29.25 0-57.595 5.603-84.375 16.727-25.872 10.711-49.19 26.12-69.213 45.73-20.105 19.693-35.843 42.6-46.885 68.225-11.453 26.615-17.303 54.877-17.303 83.963 0 27.439 5.603 56.03 16.727 85.117 9.31 24.307 22.659 49.52 39.715 74.981 27.027 40.293 64.188 82.316 110.33 124.915 76.465 70.615 152.189 119.394 155.402 121.371l19.528 12.525c8.652 5.52 19.776 5.52 28.427 0l19.529-12.525c3.213-2.06 78.854-50.756 155.401-121.371 46.143-42.6 83.304-84.622 110.33-124.915 17.057-25.46 30.487-50.674 39.716-74.981 11.124-29.087 16.727-57.678 16.727-85.117.082-29.086-5.768-57.348-17.221-83.963z${t?"":"M512 761.5S218.665 573.55 218.665 407.767c0-83.963 69.461-152.023 155.154-152.023 60.233 0 112.473 33.618 138.181 82.727 25.708-49.109 77.948-82.727 138.18-82.727 85.694 0 155.155 68.06 155.155 152.023C805.335 573.551 512 761.5 512 761.5z"}`,fill:t?"red":"currentColor"})]),Yr=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[T("path",{d:"M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0",fill:"currentColor"}),T("path",{d:"M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0",fill:"currentColor"})]),Kr=()=>T("svg",{width:"16",height:"16",ariaHidden:"true"},T("path",{d:"M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z",fill:"currentColor"})),Qr=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},T("path",{d:"M810.667 213.333a64 64 0 0 1 64 64V704a64 64 0 0 1-64 64H478.336l-146.645 96.107a21.333 21.333 0 0 1-33.024-17.856V768h-85.334a64 64 0 0 1-64-64V277.333a64 64 0 0 1 64-64h597.334zm0 64H213.333V704h149.334v63.296L459.243 704h351.424V277.333zm-271.36 213.334v64h-176.64v-64h176.64zm122.026-128v64H362.667v-64h298.666z",fill:"currentColor"})),Xr=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},T("path",{d:"M813.039 318.772L480.53 651.278H360.718V531.463L693.227 198.961C697.904 194.284 704.027 192 710.157 192C716.302 192 722.436 194.284 727.114 198.961L813.039 284.88C817.72 289.561 820 295.684 820 301.825C820 307.95 817.72 314.093 813.039 318.772ZM710.172 261.888L420.624 551.431V591.376H460.561L750.109 301.825L710.172 261.888ZM490.517 291.845H240.906V771.09H720.156V521.479C720.156 504.947 733.559 491.529 750.109 491.529C766.653 491.529 780.063 504.947 780.063 521.479V791.059C780.063 813.118 762.18 831 740.125 831H220.937C198.882 831 181 813.118 181 791.059V271.872C181 249.817 198.882 231.935 220.937 231.935H490.517C507.06 231.935 520.47 245.352 520.47 261.888C520.47 278.424 507.06 291.845 490.517 291.845Z",fill:"currentColor"})),Jr=()=>T("svg",{class:"verified-icon",viewBox:"0 0 1024 1024",width:"14",height:"14"},T("path",{d:"m894.4 461.56-54.4-63.2c-10.4-12-18.8-34.4-18.8-50.4v-68c0-42.4-34.8-77.2-77.2-77.2h-68c-15.6 0-38.4-8.4-50.4-18.8l-63.2-54.4c-27.6-23.6-72.8-23.6-100.8 0l-62.8 54.8c-12 10-34.8 18.4-50.4 18.4h-69.2c-42.4 0-77.2 34.8-77.2 77.2v68.4c0 15.6-8.4 38-18.4 50l-54 63.6c-23.2 27.6-23.2 72.4 0 100l54 63.6c10 12 18.4 34.4 18.4 50v68.4c0 42.4 34.8 77.2 77.2 77.2h69.2c15.6 0 38.4 8.4 50.4 18.8l63.2 54.4c27.6 23.6 72.8 23.6 100.8 0l63.2-54.4c12-10.4 34.4-18.8 50.4-18.8h68c42.4 0 77.2-34.8 77.2-77.2v-68c0-15.6 8.4-38.4 18.8-50.4l54.4-63.2c23.2-27.6 23.2-73.2-.4-100.8zm-216-25.2-193.2 193.2a30 30 0 0 1-42.4 0l-96.8-96.8a30.16 30.16 0 0 1 0-42.4c11.6-11.6 30.8-11.6 42.4 0l75.6 75.6 172-172c11.6-11.6 30.8-11.6 42.4 0 11.6 11.6 11.6 30.8 0 42.4z",fill:"#27ae60"})),pt=({size:t=100})=>T("svg",{width:t,height:t,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},T("circle",{cx:50,cy:50,fill:"none",stroke:"currentColor",strokeWidth:"4",r:"40","stroke-dasharray":"85 30"},T("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"}))),ei=()=>T("svg",{width:24,height:24,fill:"currentcolor",viewBox:"0 0 24 24"},[T("path",{style:"transform: translateY(0.5px)",d:"M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"}),T("path",{d:"M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"})]),ti=()=>me("WALINE_USER_META",{nick:"",mail:"",link:""}),ni=()=>me("WALINE_COMMENT_BOX_EDITOR",""),ai="WALINE_LIKE";let qn=null;const dl=()=>qn||(qn=me(ai,[])),li="WALINE_REACTION";let Gn=null;const oi=()=>Gn??(Gn=me(li,{})),Zn={},ri=t=>{const e=Zn[t]??(Zn[t]=yn.load(t,{useRecaptchaNet:!0,autoHideBadge:!0}));return{execute:n=>e.then(a=>a.execute(n))}},ii=t=>({execute:async e=>{const{load:n}=Oa("https://challenges.cloudflare.com/turnstile/v0/api.js",void 0,{async:!1});await n();const a=window==null?void 0:window.turnstile;return new Promise(o=>{a==null||a.ready(()=>{a==null||a.render(".wl-captcha-container",{sitekey:t,action:e,size:"compact",callback:o})})})}}),si="WALINE_USER";let Yn=null;const wn=()=>Yn??(Yn=me(si,{})),ci={key:0,class:"wl-reaction"},ui=["textContent"],di={class:"wl-reaction-list"},pi=["onClick"],hi={class:"wl-reaction-img"},mi=["src","alt"],fi=["textContent"],vi=["textContent"];var gi=ne({__name:"ArticleReaction",setup(t,{expose:e}){e();const n=oi(),a=Be("config"),o=R(-1),l=R([]),r=N(()=>a.value.locale),i=N(()=>a.value.reaction.length>0),s=N(()=>{const{reaction:p,path:$}=a.value;return p.map((S,_)=>({icon:S,desc:r.value[`reaction${_}`],active:n.value[$]===_}))});let u;const c=async()=>{if(!i.value)return;const{serverURL:p,lang:$,path:S,reaction:_}=a.value,b=new AbortController;u=b.abort.bind(b);const h=await un({serverURL:p,lang:$,paths:[S],type:_.map((w,U)=>`reaction${U}`),signal:b.signal});l.value=_.map((w,U)=>h[0][`reaction${U}`])},y=async p=>{if(o.value===-1){const{serverURL:$,lang:S,path:_}=a.value,b=n.value[_];o.value=p,b!==void 0&&(await dt({serverURL:$,lang:S,path:_,type:`reaction${b}`,action:"desc"}),l.value[b]=Math.max(l.value[b]-1,0)),b!==p&&(await dt({serverURL:$,lang:S,path:_,type:`reaction${p}`}),l.value[p]=(l.value[p]||0)+1),b===p?delete n.value[_]:n.value[_]=p,o.value=-1}};return he(()=>{ce(()=>[a.value.serverURL,a.value.path],()=>{c()},{immediate:!0})}),Fe(()=>u==null?void 0:u()),(p,$)=>s.value.length?(d(),f("div",ci,[m("div",{class:"wl-reaction-title",textContent:z(r.value.reactionTitle)},null,8,ui),m("ul",di,[(d(!0),f(F,null,te(s.value,({active:S,icon:_,desc:b},h)=>(d(),f("li",{key:h,class:D(["wl-reaction-item",{active:S}]),onClick:w=>y(h)},[m("div",hi,[m("img",{src:_,alt:b},null,8,mi),o.value===h?(d(),K(k(pt),{key:0,class:"wl-reaction-loading"})):(d(),f("div",{key:1,class:"wl-reaction-votes",textContent:z(l.value[h]||0)},null,8,fi))]),m("div",{class:"wl-reaction-text",textContent:z(b)},null,8,vi)],10,pi))),128))])])):I("v-if",!0)}}),wt=(t,e)=>{const n=t.__vccOpts||t;for(const[a,o]of e)n[a]=o;return n},ki=wt(gi,[["__file","ArticleReaction.vue"]]);const yi=["data-index"],wi=["src","title","onClick"];var bi=ne({__name:"ImageWall",props:{items:{default:()=>[]},columnWidth:{default:300},gap:{default:0}},emits:["insert"],setup(t,{expose:e}){const n=t;e();let a=null;const o=R(null),l=R({}),r=R([]),i=()=>{const p=Math.floor((o.value.getBoundingClientRect().width+n.gap)/(n.columnWidth+n.gap));return p>0?p:1},s=p=>new Array(p).fill(null).map(()=>[]),u=async p=>{var $;if(p>=n.items.length)return;await cn();const S=Array.from((($=o.value)==null?void 0:$.children)||[]).reduce((_,b)=>b.getBoundingClientRect().height<_.getBoundingClientRect().height?b:_);r.value[Number(S.dataset.index)].push(p),await u(p+1)},c=async(p=!1)=>{if(r.value.length===i()&&!p)return;r.value=s(i());const $=window.scrollY;await u(0),window.scrollTo({top:$})},y=p=>{l.value[p.target.src]=!0};return he(()=>{c(!0),a=new ResizeObserver(()=>{c()}),a.observe(o.value),ce(()=>[n.items],()=>{l.value={},c(!0)}),ce(()=>[n.columnWidth,n.gap],()=>{c()})}),Sa(()=>a.unobserve(o.value)),(p,$)=>(d(),f("div",{ref_key:"wall",ref:o,class:"wl-gallery",style:ut({gap:`${p.gap}px`})},[(d(!0),f(F,null,te(r.value,(S,_)=>(d(),f("div",{key:_,class:"wl-gallery-column","data-index":_,style:ut({gap:`${p.gap}px`})},[(d(!0),f(F,null,te(S,b=>(d(),f(F,{key:b},[l.value[p.items[b].src]?I("v-if",!0):(d(),K(k(pt),{key:0,size:36,style:{margin:"20px auto"}})),m("img",{class:"wl-gallery-item",src:p.items[b].src,title:p.items[b].title,loading:"lazy",onLoad:y,onClick:h=>p.$emit("insert",`![](${p.items[b].src})`)},null,40,wi)],64))),128))],12,yi))),128))],4))}}),$i=wt(bi,[["__file","ImageWall.vue"]]);const _i=t=>{try{t=decodeURI(t)}catch{}return t},pl=(t="")=>t.replace(/\/$/u,""),hl=t=>/^(https?:)?\/\//.test(t),xi=["nick","mail","link"],Kn=t=>t.filter(e=>xi.includes(e)),Qn=["//unpkg.com/@waline/emojis@1.1.0/weibo"],Ci=["//unpkg.com/@waline/emojis/tieba/tieba_agree.png","//unpkg.com/@waline/emojis/tieba/tieba_look_down.png","//unpkg.com/@waline/emojis/tieba/tieba_sunglasses.png","//unpkg.com/@waline/emojis/tieba/tieba_pick_nose.png","//unpkg.com/@waline/emojis/tieba/tieba_awkward.png","//unpkg.com/@waline/emojis/tieba/tieba_sleep.png"],Li=t=>new Promise((e,n)=>{if(t.size>128*1e3)return n(new Error("File too large! File size limit 128KB"));const a=new FileReader;a.readAsDataURL(t),a.onload=()=>{var o;return e(((o=a.result)==null?void 0:o.toString())||"")},a.onerror=n}),Ii=t=>t===!0?'<p class="wl-tex">TeX is not available in preview</p>':'<span class="wl-tex">TeX is not available in preview</span>',Ei=t=>{const e=async(n,a={})=>fetch(`https://api.giphy.com/v1/gifs/${n}?${new URLSearchParams({lang:t,limit:"20",rating:"g",api_key:"6CIMLkNMMOhRcXPoMCPkFy4Ybk2XUiMp",...a}).toString()}`).then(o=>o.json()).then(({data:o})=>o.map(l=>({title:l.title,src:l.images.downsized_medium.url})));return{search:n=>e("search",{q:n,offset:"0"}),default:()=>e("trending",{}),more:(n,a=0)=>e("search",{q:n,offset:a.toString()})}},Ri=/[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/,Ai=/</,Si=/(?:^|\s)\/\/(.+?)$/gm,zi=/\/\*([\S\s]*?)\*\//gm,Ti=new RegExp(`(${Ri.source}|${Ai.source})|((?:${Si.source})|(?:${zi.source}))`,"gmi"),Xn=["23AC69","91C132","F19726","E8552D","1AAB8E","E1147F","2980C1","1BA1E6","9FA0A0","F19726","E30B20","E30B20","A3338B"],Gt={},ji=t=>{let e=0;return t.replace(Ti,(n,a,o)=>{if(o)return`<span style="color: slategray">${o}</span>`;if(a==="<")return"&lt;";let l;Gt[a]?l=Gt[a]:(l=Xn[e],Gt[a]=l);const r=`<span style="color: #${l}">${a}</span>`;return e=++e%Xn.length,r})},Mi=["nick","nickError","mail","mailError","link","optional","placeholder","sofa","submit","like","cancelLike","reply","cancelReply","comment","refresh","more","preview","emoji","uploadImage","seconds","minutes","hours","days","now","uploading","login","logout","admin","sticky","word","wordHint","anonymous","level0","level1","level2","level3","level4","level5","gif","gifSearchPlaceholder","profile","approved","waiting","spam","unsticky","oldest","latest","hottest","reactionTitle"],Ee=t=>Object.fromEntries(t.map((e,n)=>[Mi[n],e]));var Jn=Ee(["NickName","NickName cannot be less than 3 bytes.","E-Mail","Please confirm your email address.","Website","Optional","Comment here...","No comment yet.","Submit","Like","Cancel like","Reply","Cancel reply","Comments","Refresh","Load More...","Preview","Emoji","Upload Image","seconds ago","minutes ago","hours ago","days ago","just now","Uploading","Login","logout","Admin","Sticky","Words",`Please input comments between $0 and $1 words!
 Current word number: $2`,"Anonymous","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Search GIF","Profile","Approved","Waiting","Spam","Unsticky","Oldest","Latest","Hottest","What do you think?"]),ea=Ee(["Pseudo","Le pseudo ne peut pas faire moins de 3 octets.","E-mail","Veuillez confirmer votre adresse e-mail.","Site Web","Optionnel","Commentez ici...","Aucun commentaire pour l'instant.","Envoyer","J'aime","Annuler le j'aime","Répondre","Annuler la réponse","Commentaires","Actualiser","Charger plus...","Aperçu","Emoji","Télécharger une image","Il y a quelques secondes","Il y a quelques minutes","Il y a quelques heures","Il y a quelques jours","À l'instant","Téléchargement en cours","Connexion","Déconnexion","Admin","Épinglé","Mots",`Veuillez saisir des commentaires entre $0 et $1 mots !
 Nombre actuel de mots : $2`,"Anonyme","Nains","Hobbits","Ents","Mages","Elfes","Maïar","GIF","Rechercher un GIF","Profil","Approuvé","En attente","Indésirable","Détacher","Le plus ancien","Dernier","Le plus populaire","Qu'en pensez-vous ?"]),ta=Ee(["ニックネーム","3バイト以上のニックネームをご入力ください.","メールアドレス","メールアドレスをご確認ください.","サイト","オプション","ここにコメント","コメントしましょう~","提出する","Like","Cancel like","返信する","キャンセル","コメント","更新","さらに読み込む","プレビュー","絵文字","画像をアップロード","秒前","分前","時間前","日前","たっだ今","アップロード","ログインする","ログアウト","管理者","トップに置く","ワード",`コメントは $0 から $1 ワードの間でなければなりません!
 現在の単語番号: $2`,"匿名","うえにん","なかにん","しもおし","特にしもおし","かげ","なぬし","GIF","探す GIF","個人情報","承認済み","待っている","スパム","べたつかない","逆順","正順","人気順","どう思いますか？"]),Vi=Ee(["Apelido","Apelido não pode ser menor que 3 bytes.","E-Mail","Por favor, confirme seu endereço de e-mail.","Website","Opcional","Comente aqui...","Nenhum comentário, ainda.","Enviar","Like","Cancel like","Responder","Cancelar resposta","Comentários","Refrescar","Carregar Mais...","Visualizar","Emoji","Enviar Imagem","segundos atrás","minutos atrás","horas atrás","dias atrás","agora mesmo","Enviando","Entrar","Sair","Admin","Sticky","Palavras",`Favor enviar comentário com $0 a $1 palavras!
 Número de palavras atuais: $2`,"Anônimo","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Pesquisar GIF","informação pessoal","Aprovado","Espera","Spam","Unsticky","Mais velho","Mais recentes","Mais quente","O que você acha?"]),na=Ee(["Псевдоним","Никнейм не может быть меньше 3 байт.","Эл. адрес","Пожалуйста, подтвердите адрес вашей электронной почты.","Веб-сайт","Необязательный","Комментарий здесь...","Пока нет комментариев.","Отправить","Like","Cancel like","Отвечать","Отменить ответ","Комментарии","Обновить","Загрузи больше...","Превью","эмодзи","Загрузить изображение","секунд назад","несколько минут назад","несколько часов назад","дней назад","прямо сейчас","Загрузка","Авторизоваться","Выход из системы","Админ","Липкий","Слова",`Пожалуйста, введите комментарии от $0 до $1 слов!
Номер текущего слова: $2`,"Анонимный","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Поиск GIF","Персональные данные","Одобренный","Ожидающий","Спам","Нелипкий","самый старый","последний","самый горячий","Что вы думаете?"]),aa=Ee(["Tên","Tên không được nhỏ hơn 3 ký tự.","E-Mail","Vui lòng xác nhập địa chỉ email của bạn.","Website","Tùy chọn","Hãy bình luận có văn hoá!","Chưa có bình luận","Gửi","Thích","Bỏ thích","Trả lời","Hủy bỏ","bình luận","Làm mới","Tải thêm...","Xem trước","Emoji","Tải lên hình ảnh","giây trước","phút trước","giờ trước","ngày trước","Vừa xong","Đang tải lên","Đăng nhập","đăng xuất","Quản trị viên","Dính","từ",`Bình luận phải có độ dài giữa $0 và $1 từ!
 Số từ hiện tại: $2`,"Vô danh","Người lùn","Người tí hon","Thần rừng","Pháp sư","Tiên tộc","Maiar","Ảnh GIF","Tìm kiếm ảnh GIF","thông tin cá nhân","Đã được phê duyệt","Đang chờ đợi","Thư rác","Không dính","lâu đời nhất","muộn nhất","nóng nhất","What do you think?"]),la=Ee(["昵称","昵称不能少于3个字符","邮箱","请填写正确的邮件地址","网址","可选","欢迎评论","来发评论吧~","提交","喜欢","取消喜欢","回复","取消回复","评论","刷新","加载更多...","预览","表情","上传图片","秒前","分钟前","小时前","天前","刚刚","正在上传","登录","退出","博主","置顶","字",`评论字数应在 $0 到 $1 字之间！
当前字数：$2`,"匿名","潜水","冒泡","吐槽","活跃","话痨","传说","表情包","搜索表情包","个人资料","通过","待审核","垃圾","取消置顶","按倒序","按正序","按热度","你认为这篇文章怎么样？"]),Ui=Ee(["暱稱","暱稱不能少於3個字元","郵箱","請填寫正確的郵件地址","網址","可選","歡迎留言","來發留言吧~","送出","喜歡","取消喜歡","回覆","取消回覆","留言","重整","載入更多...","預覽","表情","上傳圖片","秒前","分鐘前","小時前","天前","剛剛","正在上傳","登入","登出","管理者","置頂","字",`留言字數應在 $0 到 $1 字之間！
目前字數：$2`,"匿名","潛水","冒泡","吐槽","活躍","多話","傳說","表情包","搜尋表情包","個人資料","通過","待審核","垃圾","取消置頂","最早","最新","熱門","你認為這篇文章怎麼樣？"]);const ml="en-US",an={zh:la,"zh-cn":la,"zh-tw":Ui,en:Jn,"en-us":Jn,fr:ea,"fr-fr":ea,jp:ta,"jp-jp":ta,"pt-br":Vi,ru:na,"ru-ru":na,vi:aa,"vi-vn":aa},Hi=t=>an[t.toLowerCase()]||an[ml],Oi=t=>Object.keys(an).includes(t.toLowerCase())?t:ml,Pi=t=>{const e=pl(t);return hl(e)?e:`https://${e}`},Ni=t=>Array.isArray(t)?t:t?[0,t]:!1,Zt=(t,e)=>typeof t=="function"?t:t===!1?!1:e,Di=({serverURL:t,path:e=location.pathname,lang:n=typeof navigator>"u"?"en-US":navigator.language,locale:a,emoji:o=Qn,meta:l=["nick","mail","link"],requiredMeta:r=[],dark:i=!1,pageSize:s=10,wordLimit:u,imageUploader:c,highlighter:y,texRenderer:p,copyright:$=!0,login:S="enable",search:_,reaction:b,recaptchaV3Key:h="",turnstileKey:w="",commentSorting:U="latest",...M})=>({serverURL:Pi(t),path:_i(e),lang:Oi(n),locale:{...Hi(n),...typeof a=="object"?a:{}},wordLimit:Ni(u),meta:Kn(l),requiredMeta:Kn(r),imageUploader:Zt(c,Li),highlighter:Zt(y,ji),texRenderer:Zt(p,Ii),dark:i,emoji:typeof o=="boolean"?o?Qn:[]:o,pageSize:s,login:S,copyright:$,search:_===!1?!1:typeof _=="object"?_:Ei(n),recaptchaV3Key:h,turnstileKey:w,reaction:Array.isArray(b)?b:b===!0?Ci:[],commentSorting:U,...M}),bn=t=>typeof t=="string",Yt="{--waline-white:#000;--waline-light-grey:#666;--waline-dark-grey:#999;--waline-color:#888;--waline-bg-color:#1e1e1e;--waline-bg-color-light:#272727;--waline-bg-color-hover: #444;--waline-border-color:#333;--waline-disable-bg-color:#444;--waline-disable-color:#272727;--waline-bq-color:#272727;--waline-info-bg-color:#272727;--waline-info-color:#666}",Bi=t=>bn(t)?t==="auto"?`@media(prefers-color-scheme:dark){body${Yt}}`:`${t}${Yt}`:t===!0?`:root${Yt}`:"",Kt=(t,e)=>{let n=t.toString();for(;n.length<e;)n="0"+n;return n},Fi=t=>{const e=Kt(t.getDate(),2),n=Kt(t.getMonth()+1,2);return`${Kt(t.getFullYear(),2)}-${n}-${e}`},Wi=(t,e,n)=>{if(!t)return"";const a=bn(t)?new Date(t.indexOf(" ")!==-1?t.replace(/-/g,"/"):t):t,o=e.getTime()-a.getTime(),l=Math.floor(o/(24*3600*1e3));if(l===0){const r=o%864e5,i=Math.floor(r/(3600*1e3));if(i===0){const s=r%36e5,u=Math.floor(s/(60*1e3));if(u===0){const c=s%6e4;return`${Math.round(c/1e3)} ${n.seconds}`}return`${u} ${n.minutes}`}return`${i} ${n.hours}`}return l<0?n.now:l<8?`${l} ${n.days}`:Fi(a)},qi=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gi=t=>qi.test(t),Zi=t=>!!/@[0-9]+\.[0-9]+\.[0-9]+/.test(t),Yi=t=>{const e=me("WALINE_EMOJI",{}),n=Zi(t);if(n){const a=e.value[t];if(a)return Promise.resolve(a)}return fetch(`${t}/info.json`).then(a=>a.json()).then(a=>{const o={folder:t,...a};return n&&(e.value[t]=o),o})},oa=(t,e="",n="",a="")=>`${e?`${e}/`:""}${n}${t}${a?`.${a}`:""}`,Ki=t=>Promise.all(t.map(e=>bn(e)?Yi(pl(e)):Promise.resolve(e))).then(e=>{const n={tabs:[],map:{}};return e.forEach(a=>{const{name:o,folder:l,icon:r,prefix:i,type:s,items:u}=a;n.tabs.push({name:o,icon:oa(r,l,i,s),items:u.map(c=>{const y=`${i||""}${c}`;return n.map[y]=oa(c,l,i,s),y})})}),n}),Qi=t=>t.type.includes("image"),ra=t=>{const e=Array.from(t).find(Qi);return e?e.getAsFile():null},Xi=/\$.*?\$/,Ji=/^\$(.*?)\$/,es=/^(?:\s{0,3})\$\$((?:[^\n]|\n[^\n])+?)\n{0,1}\$\$/,ts=t=>[{name:"blockMath",level:"block",tokenizer(e){const n=es.exec(e);if(n!==null)return{type:"html",raw:n[0],text:t(!0,n[1])}}},{name:"inlineMath",level:"inline",start(e){const n=e.search(Xi);return n!==-1?n:e.length},tokenizer(e){const n=Ji.exec(e);if(n!==null)return{type:"html",raw:n[0],text:t(!1,n[1])}}}],fl=(t="",e={})=>t.replace(/:(.+?):/g,(n,a)=>e[a]?`<img class="wl-emoji" src="${e[a]}" alt="${a}">`:n),ns=(t,{emojiMap:e,highlighter:n,texRenderer:a})=>{const o=new kn;if(o.setOptions({breaks:!0}),n&&o.use(il({highlight:n})),a){const l=ts(a);o.use({extensions:l})}return o.parse(fl(t,e))},as=t=>t.match(/[\w\d\s,.\u00C0-\u024F\u0400-\u04FF]+/giu),ls=t=>t.match(/[\u4E00-\u9FD5]/gu),os=t=>{var e,n;return(((e=as(t))==null?void 0:e.reduce((a,o)=>a+(["",",","."].includes(o.trim())?0:o.trim().split(/\s+/u).length),0))||0)+(((n=ls(t))==null?void 0:n.length)||0)},rs=async()=>{if(!navigator)return"";const{userAgentData:t}=navigator;let e=navigator.userAgent;if(!t||t.platform!=="Windows")return e;const{platformVersion:n}=await t.getHighEntropyValues(["platformVersion"]);return n&&parseInt(n.split(".")[0])>=13&&(e=e.replace("Windows NT 10.0","Windows NT 11.0")),e},is={class:"wl-comment"},ss={key:0,class:"wl-login-info"},cs={class:"wl-avatar"},us=["title"],ds=["title"],ps=["src"],hs=["title","textContent"],ms={class:"wl-panel"},fs=["for","textContent"],vs=["id","onUpdate:modelValue","name","type"],gs=["placeholder"],ks={class:"wl-preview"},ys=m("hr",null,null,-1),ws=["innerHTML"],bs={class:"wl-footer"},$s={class:"wl-actions"},_s={href:"https://guides.github.com/features/mastering-markdown/",title:"Markdown Guide","aria-label":"Markdown is supported",class:"wl-action",target:"_blank",rel:"noopener noreferrer"},xs=["title"],Cs=["title"],Ls=["title"],Is=["title"],Es={class:"wl-info"},Rs=m("div",{class:"wl-captcha-container"},null,-1),As={class:"wl-text-number"},Ss={key:0},zs=["textContent"],Ts=["textContent"],js=["disabled"],Ms=["placeholder"],Vs={key:1,class:"wl-loading"},Us={key:0,class:"wl-tab-wrapper"},Hs=["title","onClick"],Os=["src","alt"],Ps={key:0,class:"wl-tabs"},Ns=["onClick"],Ds=["src","alt","title"],Bs=["title"];var Fs=ne({__name:"CommentBox",props:{edit:{default:null},rootId:{default:""},replyId:{default:""},replyUser:{default:""}},emits:["log","cancelEdit","cancelReply","submit"],setup(t,{expose:e,emit:n}){const a=t,o=n;e();const l=Be("config"),r=ni(),i=ti(),s=wn(),u=R({}),c=R(null),y=R(null),p=R(null),$=R(null),S=R(null),_=R(null),b=R(null),h=R({tabs:[],map:{}}),w=R(0),U=R(!1),M=R(!1),A=R(!1),V=R(""),re=R(0),O=za({loading:!0,list:[]}),ue=R(0),ie=R(!1),we=R(""),ae=R(!1),E=R(!1),x=N(()=>l.value.locale),j=N(()=>{var g;return!!((g=s.value)!=null&&g.token)}),Z=N(()=>l.value.imageUploader!==!1),q=g=>{const v=c.value,C=v.selectionStart,H=v.selectionEnd||0,L=v.scrollTop;r.value=v.value.substring(0,C)+g+v.value.substring(H,v.value.length),v.focus(),v.selectionStart=C+g.length,v.selectionEnd=C+g.length,v.scrollTop=L},J=g=>{const v=g.key;(g.ctrlKey||g.metaKey)&&v==="Enter"&&Ze()},Y=g=>{const v=`![${l.value.locale.uploading} ${g.name}]()`;return q(v),ae.value=!0,Promise.resolve().then(()=>l.value.imageUploader(g)).then(C=>{r.value=r.value.replace(v,`\r
![${g.name}](${C})`)}).catch(C=>{alert(C.message),r.value=r.value.replace(v,"")}).then(()=>{ae.value=!1})},fe=g=>{var v;if((v=g.dataTransfer)!=null&&v.items){const C=ra(g.dataTransfer.items);C&&Z.value&&(Y(C),g.preventDefault())}},Ge=g=>{if(g.clipboardData){const v=ra(g.clipboardData.items);v&&Z.value&&Y(v)}},ze=()=>{const g=y.value;g.files&&Z.value&&Y(g.files[0]).then(()=>{g.value=""})},Ze=async()=>{var g,v,C,H,L,G;const{serverURL:W,lang:le,login:be,wordLimit:et,requiredMeta:tt,recaptchaV3Key:nt,turnstileKey:at}=l.value,Wt=await rs(),B={comment:we.value,nick:i.value.nick,mail:i.value.mail,link:i.value.link,url:l.value.path,ua:Wt};if((g=s.value)!=null&&g.token&&!a.edit)B.nick=s.value.display_name,B.mail=s.value.email,B.link=s.value.url;else{if(be==="force")return;if(tt.indexOf("nick")>-1&&!B.nick)return(v=u.value.nick)==null||v.focus(),alert(x.value.nickError);if(tt.indexOf("mail")>-1&&!B.mail||B.mail&&!Gi(B.mail))return(C=u.value.mail)==null||C.focus(),alert(x.value.mailError);B.nick||(B.nick=x.value.anonymous)}if(!B.comment){(H=c.value)==null||H.focus();return}if(!ie.value)return alert(x.value.wordHint.replace("$0",et[0].toString()).replace("$1",et[1].toString()).replace("$2",re.value.toString()));B.comment=fl(B.comment,h.value.map),a.replyId&&a.rootId&&(B.pid=a.replyId,B.rid=a.rootId,B.at=a.replyUser),ae.value=!0;try{nt&&(B.recaptchaV3=await ri(nt).execute("social")),at&&(B.turnstile=await ii(at).execute("social"));const $e={serverURL:W,lang:le,token:(L=s.value)==null?void 0:L.token,comment:B},Te=await(a.edit?Le({objectId:a.edit.objectId,...$e}):Ga($e));if(ae.value=!1,Te.errmsg)return alert(Te.errmsg);o("submit",Te.data),r.value="",V.value="",a.replyId&&o("cancelReply"),(G=a.edit)!=null&&G.objectId&&o("cancelEdit")}catch($e){ae.value=!1,alert($e.message)}},Bt=g=>{g.preventDefault();const{lang:v,serverURL:C}=l.value;Ya({serverURL:C,lang:v}).then(H=>{s.value=H,(H.remember?localStorage:sessionStorage).setItem("WALINE_USER",JSON.stringify(H)),o("log")})},Ft=()=>{s.value={},localStorage.setItem("WALINE_USER","null"),sessionStorage.setItem("WALINE_USER","null"),o("log")},Ye=g=>{g.preventDefault();const{lang:v,serverURL:C}=l.value,H=800,L=800,G=(window.innerWidth-H)/2,W=(window.innerHeight-L)/2,le=new URLSearchParams({lng:v,token:s.value.token}),be=window.open(`${C}/ui/profile?${le.toString()}`,"_blank",`width=${H},height=${L},left=${G},top=${W},scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`);be==null||be.postMessage({type:"TOKEN",data:s.value.token},"*")},Ke=g=>{var v,C,H,L;!((v=p.value)!=null&&v.contains(g.target))&&!((C=$.value)!=null&&C.contains(g.target))&&(U.value=!1),!((H=S.value)!=null&&H.contains(g.target))&&!((L=_.value)!=null&&L.contains(g.target))&&(M.value=!1)},Qe=async g=>{var v;const{scrollTop:C,clientHeight:H,scrollHeight:L}=g.target,G=(H+C)/L,W=l.value.search,le=((v=b.value)==null?void 0:v.value)||"";G<.9||O.loading||E.value||(O.loading=!0,(W.more&&O.list.length?await W.more(le,O.list.length):await W.search(le)).length?O.list=[...O.list,...W.more&&O.list.length?await W.more(le,O.list.length):await W.search(le)]:E.value=!0,O.loading=!1,setTimeout(()=>{g.target.scrollTop=C},50))},Xe=Ha(g=>{O.list=[],E.value=!1,Qe(g)},300);ce([l,re],([g,v])=>{const{wordLimit:C}=g;C?v<C[0]&&C[0]!==0?(ue.value=C[0],ie.value=!1):v>C[1]?(ue.value=C[1],ie.value=!1):(ue.value=C[1],ie.value=!0):(ue.value=0,ie.value=!0)},{immediate:!0});const Je=({data:g})=>{!g||g.type!=="profile"||(s.value={...s.value,...g.data},[localStorage,sessionStorage].filter(v=>v.getItem("WALINE_USER")).forEach(v=>v.setItem("WALINE_USER",JSON.stringify(s))))};return he(()=>{var g;document.body.addEventListener("click",Ke),window.addEventListener("message",Je),(g=a.edit)!=null&&g.objectId&&(r.value=a.edit.orig),ce(M,async v=>{if(!v)return;const C=l.value.search;b.value&&(b.value.value=""),O.loading=!0,O.list=C.default?await C.default():await C.search(""),O.loading=!1}),ce(()=>r.value,v=>{const{highlighter:C,texRenderer:H}=l.value;we.value=v,V.value=ns(v,{emojiMap:h.value.map,highlighter:C,texRenderer:H}),re.value=os(v),v?At(c.value):At.destroy(c.value)},{immediate:!0}),ce(()=>l.value.emoji,v=>Ki(v).then(C=>{h.value=C}),{immediate:!0})}),Fe(()=>{document.body.removeEventListener("click",Ke),window.removeEventListener("message",Je)}),(g,v)=>{var C,H;return d(),f("div",is,[k(l).login!=="disable"&&j.value&&!((C=g.edit)!=null&&C.objectId)?(d(),f("div",ss,[m("div",cs,[m("button",{type:"submit",class:"wl-logout-btn",title:x.value.logout,onClick:Ft},[P(k(Wn),{size:14})],8,us),m("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:x.value.profile,onClick:Ye},[m("img",{src:k(s).avatar,alt:"avatar"},null,8,ps)],8,ds)]),m("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:x.value.profile,onClick:Ye,textContent:z(k(s).display_name)},null,8,hs)])):I("v-if",!0),m("div",ms,[k(l).login!=="force"&&k(l).meta.length&&!j.value?(d(),f("div",{key:0,class:D(["wl-header",`item${k(l).meta.length}`])},[(d(!0),f(F,null,te(k(l).meta,L=>(d(),f("div",{key:L,class:"wl-header-item"},[m("label",{for:`wl-${L}`,textContent:z(x.value[L]+(k(l).requiredMeta.includes(L)||!k(l).requiredMeta.length?"":`(${x.value.optional})`))},null,8,fs),ge(m("input",{id:`wl-${L}`,ref_for:!0,ref:G=>{G&&(u.value[L]=G)},"onUpdate:modelValue":G=>k(i)[L]=G,class:D(["wl-input",`wl-${L}`]),name:L,type:L==="mail"?"email":"text"},null,10,vs),[[Ta,k(i)[L]]])]))),128))],2)):I("v-if",!0),ge(m("textarea",{id:"wl-edit",ref_key:"editorRef",ref:c,"onUpdate:modelValue":v[0]||(v[0]=L=>ja(r)?r.value=L:null),class:"wl-editor",placeholder:g.replyUser?`@${g.replyUser}`:x.value.placeholder,onKeydown:J,onDrop:fe,onPaste:Ge},null,40,gs),[[sn,k(r)]]),ge(m("div",ks,[ys,m("h4",null,z(x.value.preview)+":",1),m("div",{class:"wl-content",innerHTML:V.value},null,8,ws)],512),[[ct,A.value]]),m("div",bs,[m("div",$s,[m("a",_s,[P(k(Kr))]),ge(m("button",{ref_key:"emojiButtonRef",ref:p,type:"button",class:D(["wl-action",{active:U.value}]),title:x.value.emoji,onClick:v[1]||(v[1]=L=>U.value=!U.value)},[P(k(qr))],10,xs),[[ct,h.value.tabs.length]]),k(l).search?(d(),f("button",{key:0,ref_key:"gifButtonRef",ref:S,type:"button",class:D(["wl-action",{active:M.value}]),title:x.value.gif,onClick:v[2]||(v[2]=L=>M.value=!M.value)},[P(k(ei))],10,Cs)):I("v-if",!0),m("input",{id:"wl-image-upload",ref_key:"imageUploadRef",ref:y,class:"upload",type:"file",accept:".png,.jpg,.jpeg,.webp,.bmp,.gif",onChange:ze},null,544),Z.value?(d(),f("label",{key:1,for:"wl-image-upload",class:"wl-action",title:x.value.uploadImage},[P(k(Gr))],8,Ls)):I("v-if",!0),m("button",{type:"button",class:D(["wl-action",{active:A.value}]),title:x.value.preview,onClick:v[3]||(v[3]=L=>A.value=!A.value)},[P(k(Yr))],10,Is)]),m("div",Es,[Rs,m("div",As,[se(z(re.value)+" ",1),k(l).wordLimit?(d(),f("span",Ss,[se("  /  "),m("span",{class:D({illegal:!ie.value}),textContent:z(ue.value)},null,10,zs)])):I("v-if",!0),se("  "+z(x.value.word),1)]),k(l).login!=="disable"&&!j.value?(d(),f("button",{key:0,type:"button",class:"wl-btn",onClick:Bt,textContent:z(x.value.login)},null,8,Ts)):I("v-if",!0),k(l).login!=="force"||j.value?(d(),f("button",{key:1,type:"submit",class:"primary wl-btn",title:"Cmd|Ctrl + Enter",disabled:ae.value,onClick:Ze},[ae.value?(d(),K(k(pt),{key:0,size:16})):(d(),f(F,{key:1},[se(z(x.value.submit),1)],64))],8,js)):I("v-if",!0)]),m("div",{ref_key:"gifPopupRef",ref:_,class:D(["wl-gif-popup",{display:M.value}])},[m("input",{ref_key:"gifSearchInputRef",ref:b,type:"text",placeholder:x.value.gifSearchPlaceholder,onInput:v[4]||(v[4]=(...L)=>k(Xe)&&k(Xe)(...L))},null,40,Ms),O.list.length?(d(),K($i,{key:0,items:O.list,"column-width":200,gap:6,onInsert:v[5]||(v[5]=L=>q(L)),onScroll:Qe},null,8,["items"])):I("v-if",!0),O.loading?(d(),f("div",Vs,[P(k(pt),{size:30})])):I("v-if",!0)],2),m("div",{ref_key:"emojiPopupRef",ref:$,class:D(["wl-emoji-popup",{display:U.value}])},[(d(!0),f(F,null,te(h.value.tabs,(L,G)=>(d(),f(F,{key:L.name},[G===w.value?(d(),f("div",Us,[(d(!0),f(F,null,te(L.items,W=>(d(),f("button",{key:W,type:"button",title:W,onClick:le=>q(`:${W}:`)},[U.value?(d(),f("img",{key:0,class:"wl-emoji",src:h.value.map[W],alt:W,loading:"lazy",referrerPolicy:"no-referrer"},null,8,Os)):I("v-if",!0)],8,Hs))),128))])):I("v-if",!0)],64))),128)),h.value.tabs.length>1?(d(),f("div",Ps,[(d(!0),f(F,null,te(h.value.tabs,(L,G)=>(d(),f("button",{key:L.name,type:"button",class:D(["wl-tab",{active:w.value===G}]),onClick:W=>w.value=G},[m("img",{class:"wl-emoji",src:L.icon,alt:L.name,title:L.name,loading:"lazy",referrerPolicy:"no-referrer"},null,8,Ds)],10,Ns))),128))])):I("v-if",!0)],2)])]),g.replyId||(H=g.edit)!=null&&H.objectId?(d(),f("button",{key:1,type:"button",class:"wl-close",title:x.value.cancelReply,onClick:v[6]||(v[6]=L=>g.$emit(g.replyId?"cancelReply":"cancelEdit"))},[P(k(Wn),{size:24})],8,Bs)):I("v-if",!0)])}}}),vl=wt(Fs,[["__file","CommentBox.vue"]]);const Ws=["id"],qs={class:"wl-user","aria-hidden":"true"},Gs=["src"],Zs={class:"wl-card"},Ys={class:"wl-head"},Ks=["href"],Qs={key:1,class:"wl-nick"},Xs=["textContent"],Js=["textContent"],ec=["textContent"],tc=["textContent"],nc=["textContent"],ac={class:"wl-comment-actions"},lc=["title"],oc=["title"],rc={class:"wl-meta","aria-hidden":"true"},ic=["data-value","textContent"],sc=["innerHTML"],cc={key:1,class:"wl-admin-actions"},uc={class:"wl-comment-status"},dc=["disabled","onClick","textContent"],pc={key:3,class:"wl-quote"};var hc=ne({__name:"CommentCard",props:{comment:{},edit:{default:null},rootId:{},reply:{default:null}},emits:["log","submit","delete","edit","like","status","sticky","reply"],setup(t,{emit:e}){const n=t,a=e,o=["approved","waiting","spam"],l=Be("config"),r=dl(),i=Ma(),s=wn(),u=N(()=>l.value.locale),c=N(()=>{const{link:h}=n.comment;return h?hl(h)?h:`https://${h}`:""}),y=N(()=>r.value.includes(n.comment.objectId)),p=N(()=>Wi(new Date(n.comment.time),i.value,u.value)),$=N(()=>s.value.type==="administrator"),S=N(()=>n.comment.user_id&&s.value.objectId===n.comment.user_id),_=N(()=>{var h;return n.comment.objectId===((h=n.reply)==null?void 0:h.objectId)}),b=N(()=>{var h;return n.comment.objectId===((h=n.edit)==null?void 0:h.objectId)});return(h,w)=>{var U;const M=vt("CommentCard",!0);return d(),f("div",{id:h.comment.objectId,class:"wl-card-item"},[m("div",qs,[h.comment.avatar?(d(),f("img",{key:0,class:"wl-user-avatar",src:h.comment.avatar},null,8,Gs)):I("v-if",!0),h.comment.type?(d(),K(k(Jr),{key:1})):I("v-if",!0)]),m("div",Zs,[m("div",Ys,[c.value?(d(),f("a",{key:0,class:"wl-nick",href:c.value,target:"_blank",rel:"nofollow noopener noreferrer"},z(h.comment.nick),9,Ks)):(d(),f("span",Qs,z(h.comment.nick),1)),h.comment.type==="administrator"?(d(),f("span",{key:2,class:"wl-badge",textContent:z(u.value.admin)},null,8,Xs)):I("v-if",!0),h.comment.label?(d(),f("span",{key:3,class:"wl-badge",textContent:z(h.comment.label)},null,8,Js)):I("v-if",!0),h.comment.sticky?(d(),f("span",{key:4,class:"wl-badge",textContent:z(u.value.sticky)},null,8,ec)):I("v-if",!0),typeof h.comment.level=="number"?(d(),f("span",{key:5,class:D(`wl-badge level${h.comment.level}`),textContent:z(u.value[`level${h.comment.level}`]||`Level ${h.comment.level}`)},null,10,tc)):I("v-if",!0),m("span",{class:"wl-time",textContent:z(p.value)},null,8,nc),m("div",ac,[$.value||S.value?(d(),f(F,{key:0},[m("button",{type:"button",class:"wl-edit",onClick:w[0]||(w[0]=A=>a("edit",h.comment))},[P(k(Xr))]),m("button",{type:"button",class:"wl-delete",onClick:w[1]||(w[1]=A=>a("delete",h.comment))},[P(k(Wr))])],64)):I("v-if",!0),m("button",{type:"button",class:"wl-like",title:y.value?u.value.cancelLike:u.value.like,onClick:w[2]||(w[2]=A=>a("like",h.comment))},[P(k(Zr),{active:y.value},null,8,["active"]),se(" "+z("like"in h.comment?h.comment.like:""),1)],8,lc),m("button",{type:"button",class:D(["wl-reply",{active:_.value}]),title:_.value?u.value.cancelReply:u.value.reply,onClick:w[3]||(w[3]=A=>a("reply",_.value?null:h.comment))},[P(k(Qr))],10,oc)])]),m("div",rc,[(d(),f(F,null,te(["addr","browser","os"],A=>(d(),f(F,null,[h.comment[A]?(d(),f("span",{key:A,class:D(`wl-${A}`),"data-value":h.comment[A],textContent:z(h.comment[A])},null,10,ic)):I("v-if",!0)],64))),64))]),b.value?I("v-if",!0):(d(),f("div",{key:0,class:"wl-content",innerHTML:h.comment.comment},null,8,sc)),$.value&&!b.value?(d(),f("div",cc,[m("span",uc,[(d(),f(F,null,te(o,A=>m("button",{key:A,type:"submit",class:D(`wl-btn wl-${A}`),disabled:h.comment.status===A,onClick:V=>a("status",{status:A,comment:h.comment}),textContent:z(u.value[A])},null,10,dc)),64))]),$.value&&!("rid"in h.comment)?(d(),f("button",{key:0,type:"submit",class:"wl-btn wl-sticky",onClick:w[4]||(w[4]=A=>a("sticky",h.comment))},z(h.comment.sticky?u.value.unsticky:u.value.sticky),1)):I("v-if",!0)])):I("v-if",!0),_.value||b.value?(d(),f("div",{key:2,class:D({"wl-reply-wrapper":_.value,"wl-edit-wrapper":b.value})},[P(vl,{edit:h.edit,"reply-id":(U=h.reply)==null?void 0:U.objectId,"reply-user":h.comment.nick,"root-id":h.rootId,onLog:w[5]||(w[5]=A=>a("log")),onCancelReply:w[6]||(w[6]=A=>a("reply",null)),onCancelEdit:w[7]||(w[7]=A=>a("edit",null)),onSubmit:w[8]||(w[8]=A=>a("submit",A))},null,8,["edit","reply-id","reply-user","root-id"])],2)):I("v-if",!0),"children"in h.comment?(d(),f("div",pc,[(d(!0),f(F,null,te(h.comment.children,A=>(d(),K(M,{key:A.objectId,comment:A,reply:h.reply,edit:h.edit,"root-id":h.rootId,onLog:w[9]||(w[9]=V=>a("log")),onDelete:w[10]||(w[10]=V=>a("delete",V)),onEdit:w[11]||(w[11]=V=>a("edit",V)),onLike:w[12]||(w[12]=V=>a("like",V)),onReply:w[13]||(w[13]=V=>a("reply",V)),onStatus:w[14]||(w[14]=V=>a("status",V)),onSticky:w[15]||(w[15]=V=>a("sticky",V)),onSubmit:w[16]||(w[16]=V=>a("submit",V))},null,8,["comment","reply","edit","root-id"]))),128))])):I("v-if",!0)])],8,Ws)}}}),mc=wt(hc,[["__file","CommentCard.vue"]]);const fc="3.1.3",vc={"data-waline":""},gc={class:"wl-meta-head"},kc={class:"wl-count"},yc=["textContent"],wc={class:"wl-sort"},bc=["onClick"],$c={class:"wl-cards"},_c={key:1,class:"wl-operation"},xc=["textContent"],Cc={key:2,class:"wl-loading"},Lc=["textContent"],Ic={key:4,class:"wl-operation"},Ec=["textContent"],Rc={key:5,class:"wl-power"},Ac=m("a",{href:"https://github.com/walinejs/waline",target:"_blank",rel:"noopener noreferrer"}," Waline ",-1);var Sc=ne({__name:"WalineComment",props:["serverURL","path","meta","requiredMeta","dark","commentSorting","lang","locale","pageSize","wordLimit","emoji","login","highlighter","texRenderer","imageUploader","search","copyright","recaptchaV3Key","turnstileKey","reaction"],setup(t){const e=t,n={latest:"insertedAt_desc",oldest:"insertedAt_asc",hottest:"like_desc"},a=Object.keys(n),o=wn(),l=dl(),r=R("loading"),i=R(0),s=R(1),u=R(0),c=N(()=>Di(e)),y=R(c.value.commentSorting),p=R([]),$=R(null),S=R(null),_=N(()=>Bi(c.value.dark)),b=N(()=>c.value.locale);Va(_,{id:"waline-darkmode"});let h;const w=E=>{var x;const{serverURL:j,path:Z,pageSize:q}=c.value,J=new AbortController;r.value="loading",h==null||h(),qa({serverURL:j,lang:c.value.lang,path:Z,pageSize:q,sortBy:n[y.value],page:E,signal:J.signal,token:(x=o.value)==null?void 0:x.token}).then(Y=>{r.value="success",i.value=Y.count,p.value.push(...Y.data),s.value=E,u.value=Y.totalPages}).catch(Y=>{Y.name!=="AbortError"&&(console.error(Y.message),r.value="error")}),h=J.abort.bind(J)},U=()=>w(s.value+1),M=()=>{i.value=0,p.value=[],w(1)},A=E=>{y.value!==E&&(y.value=E,M())},V=E=>{$.value=E},re=E=>{S.value=E},O=E=>{if(S.value)S.value.comment=E.comment,S.value.orig=E.orig;else if("rid"in E){const x=p.value.find(({objectId:j})=>j===E.rid);if(!x)return;Array.isArray(x.children)||(x.children=[]),x.children.push(E)}else p.value.unshift(E),i.value+=1},ue=async({comment:E,status:x})=>{var j;if(E.status===x)return;const{serverURL:Z,lang:q}=c.value;await Le({serverURL:Z,lang:q,token:(j=o.value)==null?void 0:j.token,objectId:E.objectId,comment:{status:x}}),E.status=x},ie=async E=>{var x;if("rid"in E)return;const{serverURL:j,lang:Z}=c.value;await Le({serverURL:j,lang:Z,token:(x=o.value)==null?void 0:x.token,objectId:E.objectId,comment:{sticky:E.sticky?0:1}}),E.sticky=!E.sticky},we=async({objectId:E})=>{var x;if(!confirm("Are you sure you want to delete this comment?"))return;const{serverURL:j,lang:Z}=c.value;await Za({serverURL:j,lang:Z,token:(x=o.value)==null?void 0:x.token,objectId:E}),p.value.some((q,J)=>q.objectId===E?(p.value=p.value.filter((Y,fe)=>fe!==J),!0):q.children.some((Y,fe)=>Y.objectId===E?(p.value[J].children=q.children.filter((Ge,ze)=>ze!==fe),!0):!1))},ae=async E=>{var x;const{serverURL:j,lang:Z}=c.value,{objectId:q}=E,J=l.value.includes(q);await Le({serverURL:j,lang:Z,objectId:q,token:(x=o.value)==null?void 0:x.token,comment:{like:!J}}),J?l.value=l.value.filter(Y=>Y!==q):(l.value=[...l.value,q],l.value.length>50&&(l.value=l.value.slice(-50))),E.like=(E.like||0)+(J?-1:1)};return Ua("config",c),he(()=>{ce(()=>[e.serverURL,e.path],()=>M(),{immediate:!0})}),Fe(()=>h==null?void 0:h()),(E,x)=>(d(),f("div",vc,[P(ki),$.value?I("v-if",!0):(d(),K(vl,{key:0,onLog:M,onSubmit:O})),m("div",gc,[m("div",kc,[i.value?(d(),f("span",{key:0,class:"wl-num",textContent:z(i.value)},null,8,yc)):I("v-if",!0),se(" "+z(b.value.comment),1)]),m("ul",wc,[(d(!0),f(F,null,te(k(a),j=>(d(),f("li",{key:j,class:D([j===y.value?"active":""]),onClick:Z=>A(j)},z(b.value[j]),11,bc))),128))])]),m("div",$c,[(d(!0),f(F,null,te(p.value,j=>(d(),K(mc,{key:j.objectId,"root-id":j.objectId,comment:j,reply:$.value,edit:S.value,onLog:M,onReply:V,onEdit:re,onSubmit:O,onStatus:ue,onDelete:we,onSticky:ie,onLike:ae},null,8,["root-id","comment","reply","edit"]))),128))]),r.value==="error"?(d(),f("div",_c,[m("button",{type:"button",class:"wl-btn",onClick:M,textContent:z(b.value.refresh)},null,8,xc)])):r.value==="loading"?(d(),f("div",Cc,[P(k(pt),{size:30})])):p.value.length?s.value<u.value?(d(),f("div",Ic,[m("button",{type:"button",class:"wl-btn",onClick:U,textContent:z(b.value.more)},null,8,Ec)])):I("v-if",!0):(d(),f("div",{key:3,class:"wl-empty",textContent:z(b.value.sofa)},null,8,Lc)),c.value.copyright?(d(),f("div",Rc,[se(" Powered by "),Ac,se(" v"+z(k(fc)),1)])):I("v-if",!0)]))}}),zc=wt(Sc,[["__file","WalineComment.vue"]]);const Tc=["nick","mail","link"],ia=t=>t.filter(e=>Tc.includes(e)),sa=["//unpkg.com/@waline/emojis@1.1.0/weibo"],jc=["//unpkg.com/@waline/emojis/tieba/tieba_agree.png","//unpkg.com/@waline/emojis/tieba/tieba_look_down.png","//unpkg.com/@waline/emojis/tieba/tieba_sunglasses.png","//unpkg.com/@waline/emojis/tieba/tieba_pick_nose.png","//unpkg.com/@waline/emojis/tieba/tieba_awkward.png","//unpkg.com/@waline/emojis/tieba/tieba_sleep.png"],Mc=t=>new Promise((e,n)=>{if(t.size>128*1e3)return n(new Error("File too large! File size limit 128KB"));const a=new FileReader;a.readAsDataURL(t),a.onload=()=>{var o;return e(((o=a.result)==null?void 0:o.toString())||"")},a.onerror=n}),Vc=t=>t===!0?'<p class="wl-tex">TeX is not available in preview</p>':'<span class="wl-tex">TeX is not available in preview</span>',Uc=t=>{const e=async(n,a={})=>fetch(`https://api.giphy.com/v1/gifs/${n}?${new URLSearchParams({lang:t,limit:"20",rating:"g",api_key:"6CIMLkNMMOhRcXPoMCPkFy4Ybk2XUiMp",...a}).toString()}`).then(o=>o.json()).then(({data:o})=>o.map(l=>({title:l.title,src:l.images.downsized_medium.url})));return{search:n=>e("search",{q:n,offset:"0"}),default:()=>e("trending",{}),more:(n,a=0)=>e("search",{q:n,offset:a.toString()})}},Hc=/[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/,Oc=/</,Pc=/(?:^|\s)\/\/(.+?)$/gm,Nc=/\/\*([\S\s]*?)\*\//gm,Dc=new RegExp(`(${Hc.source}|${Oc.source})|((?:${Pc.source})|(?:${Nc.source}))`,"gmi"),ca=["23AC69","91C132","F19726","E8552D","1AAB8E","E1147F","2980C1","1BA1E6","9FA0A0","F19726","E30B20","E30B20","A3338B"],Qt={},Bc=t=>{let e=0;return t.replace(Dc,(n,a,o)=>{if(o)return`<span style="color: slategray">${o}</span>`;if(a==="<")return"&lt;";let l;Qt[a]?l=Qt[a]:(l=ca[e],Qt[a]=l);const r=`<span style="color: #${l}">${a}</span>`;return e=++e%ca.length,r})},Fc=["nick","nickError","mail","mailError","link","optional","placeholder","sofa","submit","like","cancelLike","reply","cancelReply","comment","refresh","more","preview","emoji","uploadImage","seconds","minutes","hours","days","now","uploading","login","logout","admin","sticky","word","wordHint","anonymous","level0","level1","level2","level3","level4","level5","gif","gifSearchPlaceholder","profile","approved","waiting","spam","unsticky","oldest","latest","hottest","reactionTitle"],Re=t=>Object.fromEntries(t.map((e,n)=>[Fc[n],e]));var ua=Re(["NickName","NickName cannot be less than 3 bytes.","E-Mail","Please confirm your email address.","Website","Optional","Comment here...","No comment yet.","Submit","Like","Cancel like","Reply","Cancel reply","Comments","Refresh","Load More...","Preview","Emoji","Upload Image","seconds ago","minutes ago","hours ago","days ago","just now","Uploading","Login","logout","Admin","Sticky","Words",`Please input comments between $0 and $1 words!
 Current word number: $2`,"Anonymous","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Search GIF","Profile","Approved","Waiting","Spam","Unsticky","Oldest","Latest","Hottest","What do you think?"]),da=Re(["Pseudo","Le pseudo ne peut pas faire moins de 3 octets.","E-mail","Veuillez confirmer votre adresse e-mail.","Site Web","Optionnel","Commentez ici...","Aucun commentaire pour l'instant.","Envoyer","J'aime","Annuler le j'aime","Répondre","Annuler la réponse","Commentaires","Actualiser","Charger plus...","Aperçu","Emoji","Télécharger une image","Il y a quelques secondes","Il y a quelques minutes","Il y a quelques heures","Il y a quelques jours","À l'instant","Téléchargement en cours","Connexion","Déconnexion","Admin","Épinglé","Mots",`Veuillez saisir des commentaires entre $0 et $1 mots !
 Nombre actuel de mots : $2`,"Anonyme","Nains","Hobbits","Ents","Mages","Elfes","Maïar","GIF","Rechercher un GIF","Profil","Approuvé","En attente","Indésirable","Détacher","Le plus ancien","Dernier","Le plus populaire","Qu'en pensez-vous ?"]),pa=Re(["ニックネーム","3バイト以上のニックネームをご入力ください.","メールアドレス","メールアドレスをご確認ください.","サイト","オプション","ここにコメント","コメントしましょう~","提出する","Like","Cancel like","返信する","キャンセル","コメント","更新","さらに読み込む","プレビュー","絵文字","画像をアップロード","秒前","分前","時間前","日前","たっだ今","アップロード","ログインする","ログアウト","管理者","トップに置く","ワード",`コメントは $0 から $1 ワードの間でなければなりません!
 現在の単語番号: $2`,"匿名","うえにん","なかにん","しもおし","特にしもおし","かげ","なぬし","GIF","探す GIF","個人情報","承認済み","待っている","スパム","べたつかない","逆順","正順","人気順","どう思いますか？"]),Wc=Re(["Apelido","Apelido não pode ser menor que 3 bytes.","E-Mail","Por favor, confirme seu endereço de e-mail.","Website","Opcional","Comente aqui...","Nenhum comentário, ainda.","Enviar","Like","Cancel like","Responder","Cancelar resposta","Comentários","Refrescar","Carregar Mais...","Visualizar","Emoji","Enviar Imagem","segundos atrás","minutos atrás","horas atrás","dias atrás","agora mesmo","Enviando","Entrar","Sair","Admin","Sticky","Palavras",`Favor enviar comentário com $0 a $1 palavras!
 Número de palavras atuais: $2`,"Anônimo","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Pesquisar GIF","informação pessoal","Aprovado","Espera","Spam","Unsticky","Mais velho","Mais recentes","Mais quente","O que você acha?"]),ha=Re(["Псевдоним","Никнейм не может быть меньше 3 байт.","Эл. адрес","Пожалуйста, подтвердите адрес вашей электронной почты.","Веб-сайт","Необязательный","Комментарий здесь...","Пока нет комментариев.","Отправить","Like","Cancel like","Отвечать","Отменить ответ","Комментарии","Обновить","Загрузи больше...","Превью","эмодзи","Загрузить изображение","секунд назад","несколько минут назад","несколько часов назад","дней назад","прямо сейчас","Загрузка","Авторизоваться","Выход из системы","Админ","Липкий","Слова",`Пожалуйста, введите комментарии от $0 до $1 слов!
Номер текущего слова: $2`,"Анонимный","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Поиск GIF","Персональные данные","Одобренный","Ожидающий","Спам","Нелипкий","самый старый","последний","самый горячий","Что вы думаете?"]),ma=Re(["Tên","Tên không được nhỏ hơn 3 ký tự.","E-Mail","Vui lòng xác nhập địa chỉ email của bạn.","Website","Tùy chọn","Hãy bình luận có văn hoá!","Chưa có bình luận","Gửi","Thích","Bỏ thích","Trả lời","Hủy bỏ","bình luận","Làm mới","Tải thêm...","Xem trước","Emoji","Tải lên hình ảnh","giây trước","phút trước","giờ trước","ngày trước","Vừa xong","Đang tải lên","Đăng nhập","đăng xuất","Quản trị viên","Dính","từ",`Bình luận phải có độ dài giữa $0 và $1 từ!
 Số từ hiện tại: $2`,"Vô danh","Người lùn","Người tí hon","Thần rừng","Pháp sư","Tiên tộc","Maiar","Ảnh GIF","Tìm kiếm ảnh GIF","thông tin cá nhân","Đã được phê duyệt","Đang chờ đợi","Thư rác","Không dính","lâu đời nhất","muộn nhất","nóng nhất","What do you think?"]),fa=Re(["昵称","昵称不能少于3个字符","邮箱","请填写正确的邮件地址","网址","可选","欢迎评论","来发评论吧~","提交","喜欢","取消喜欢","回复","取消回复","评论","刷新","加载更多...","预览","表情","上传图片","秒前","分钟前","小时前","天前","刚刚","正在上传","登录","退出","博主","置顶","字",`评论字数应在 $0 到 $1 字之间！
当前字数：$2`,"匿名","潜水","冒泡","吐槽","活跃","话痨","传说","表情包","搜索表情包","个人资料","通过","待审核","垃圾","取消置顶","按倒序","按正序","按热度","你认为这篇文章怎么样？"]),qc=Re(["暱稱","暱稱不能少於3個字元","郵箱","請填寫正確的郵件地址","網址","可選","歡迎留言","來發留言吧~","送出","喜歡","取消喜歡","回覆","取消回覆","留言","重整","載入更多...","預覽","表情","上傳圖片","秒前","分鐘前","小時前","天前","剛剛","正在上傳","登入","登出","管理者","置頂","字",`留言字數應在 $0 到 $1 字之間！
目前字數：$2`,"匿名","潛水","冒泡","吐槽","活躍","多話","傳說","表情包","搜尋表情包","個人資料","通過","待審核","垃圾","取消置頂","最早","最新","熱門","你認為這篇文章怎麼樣？"]);const gl="en-US",ln={zh:fa,"zh-cn":fa,"zh-tw":qc,en:ua,"en-us":ua,fr:da,"fr-fr":da,jp:pa,"jp-jp":pa,"pt-br":Wc,ru:ha,"ru-ru":ha,vi:ma,"vi-vn":ma},Gc=t=>ln[t.toLowerCase()]||ln[gl],Zc=t=>Object.keys(ln).includes(t.toLowerCase())?t:gl,kl=t=>{try{t=decodeURI(t)}catch{}return t},yl=(t="")=>t.replace(/\/$/u,""),wl=t=>/^(https?:)?\/\//.test(t),jt=t=>{const e=yl(t);return wl(e)?e:`https://${e}`},Yc=t=>Array.isArray(t)?t:t?[0,t]:!1,Xt=(t,e)=>typeof t=="function"?t:t===!1?!1:e,Kc=({serverURL:t,path:e=location.pathname,lang:n=typeof navigator>"u"?"en-US":navigator.language,locale:a,emoji:o=sa,meta:l=["nick","mail","link"],requiredMeta:r=[],dark:i=!1,pageSize:s=10,wordLimit:u,imageUploader:c,highlighter:y,texRenderer:p,copyright:$=!0,login:S="enable",search:_,reaction:b,recaptchaV3Key:h="",turnstileKey:w="",commentSorting:U="latest",...M})=>({serverURL:jt(t),path:kl(e),lang:Zc(n),locale:{...Gc(n),...typeof a=="object"?a:{}},wordLimit:Yc(u),meta:ia(l),requiredMeta:ia(r),imageUploader:Xt(c,Mc),highlighter:Xt(y,Bc),texRenderer:Xt(p,Vc),dark:i,emoji:typeof o=="boolean"?o?sa:[]:o,pageSize:s,login:S,copyright:$,search:_===!1?!1:typeof _=="object"?_:Uc(n),recaptchaV3Key:h,turnstileKey:w,reaction:Array.isArray(b)?b:b===!0?jc:[],commentSorting:U,...M}),$n=t=>typeof t=="string",Jt="{--waline-white:#000;--waline-light-grey:#666;--waline-dark-grey:#999;--waline-color:#888;--waline-bg-color:#1e1e1e;--waline-bg-color-light:#272727;--waline-bg-color-hover: #444;--waline-border-color:#333;--waline-disable-bg-color:#444;--waline-disable-color:#272727;--waline-bq-color:#272727;--waline-info-bg-color:#272727;--waline-info-color:#666}",Qc=t=>$n(t)?t==="auto"?`@media(prefers-color-scheme:dark){body${Jt}}`:`${t}${Jt}`:t===!0?`:root${Jt}`:"",en=(t,e)=>{let n=t.toString();for(;n.length<e;)n="0"+n;return n},Xc=t=>{const e=en(t.getDate(),2),n=en(t.getMonth()+1,2);return`${en(t.getFullYear(),2)}-${n}-${e}`},Jc=(t,e,n)=>{if(!t)return"";const a=$n(t)?new Date(t.indexOf(" ")!==-1?t.replace(/-/g,"/"):t):t,o=e.getTime()-a.getTime(),l=Math.floor(o/(24*3600*1e3));if(l===0){const r=o%864e5,i=Math.floor(r/(3600*1e3));if(i===0){const s=r%36e5,u=Math.floor(s/(60*1e3));if(u===0){const c=s%6e4;return`${Math.round(c/1e3)} ${n.seconds}`}return`${u} ${n.minutes}`}return`${i} ${n.hours}`}return l<0?n.now:l<8?`${l} ${n.days}`:Xc(a)},eu=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tu=t=>eu.test(t),nu=t=>!!/@[0-9]+\.[0-9]+\.[0-9]+/.test(t),au=t=>{const e=me("WALINE_EMOJI",{}),n=nu(t);if(n){const a=e.value[t];if(a)return Promise.resolve(a)}return fetch(`${t}/info.json`).then(a=>a.json()).then(a=>{const o={folder:t,...a};return n&&(e.value[t]=o),o})},va=(t,e="",n="",a="")=>`${e?`${e}/`:""}${n}${t}${a?`.${a}`:""}`,lu=t=>Promise.all(t.map(e=>$n(e)?au(yl(e)):Promise.resolve(e))).then(e=>{const n={tabs:[],map:{}};return e.forEach(a=>{const{name:o,folder:l,icon:r,prefix:i,type:s,items:u}=a;n.tabs.push({name:o,icon:va(r,l,i,s),items:u.map(c=>{const y=`${i||""}${c}`;return n.map[y]=va(c,l,i,s),y})})}),n}),bl=t=>{t.name!=="AbortError"&&console.error(t.message)},ou=t=>t.type.includes("image"),ga=t=>{const e=Array.from(t).find(ou);return e?e.getAsFile():null},ru=/\$.*?\$/,iu=/^\$(.*?)\$/,su=/^(?:\s{0,3})\$\$((?:[^\n]|\n[^\n])+?)\n{0,1}\$\$/,cu=t=>[{name:"blockMath",level:"block",tokenizer(e){const n=su.exec(e);if(n!==null)return{type:"html",raw:n[0],text:t(!0,n[1])}}},{name:"inlineMath",level:"inline",start(e){const n=e.search(ru);return n!==-1?n:e.length},tokenizer(e){const n=iu.exec(e);if(n!==null)return{type:"html",raw:n[0],text:t(!1,n[1])}}}],$l=(t="",e={})=>t.replace(/:(.+?):/g,(n,a)=>e[a]?`<img class="wl-emoji" src="${e[a]}" alt="${a}">`:n),uu=(t,{emojiMap:e,highlighter:n,texRenderer:a})=>{const o=new kn;if(o.setOptions({breaks:!0}),n&&o.use(il({highlight:n})),a){const l=cu(a);o.use({extensions:l})}return o.parse($l(t,e))},on=t=>t.dataset.path||null,du=t=>t.match(/[\w\d\s,.\u00C0-\u024F\u0400-\u04FF]+/giu),pu=t=>t.match(/[\u4E00-\u9FD5]/gu),hu=t=>{var e,n;return(((e=du(t))==null?void 0:e.reduce((a,o)=>a+(["",",","."].includes(o.trim())?0:o.trim().split(/\s+/u).length),0))||0)+(((n=pu(t))==null?void 0:n.length)||0)},mu=async()=>{if(!navigator)return"";const{userAgentData:t}=navigator;let e=navigator.userAgent;if(!t||t.platform!=="Windows")return e;const{platformVersion:n}=await t.getHighEntropyValues(["platformVersion"]);return n&&parseInt(n.split(".")[0])>=13&&(e=e.replace("Windows NT 10.0","Windows NT 11.0")),e},fu=({serverURL:t,path:e=window.location.pathname,selector:n=".waline-comment-count",lang:a=navigator.language})=>{const o=new AbortController,l=document.querySelectorAll(n);return l.length&&Jo({serverURL:jt(t),paths:Array.from(l).map(r=>kl(on(r)||e)),lang:a,signal:o.signal}).then(r=>{l.forEach((i,s)=>{i.innerText=r[s].toString()})}).catch(bl),o.abort.bind(o)},ka=({size:t})=>T("svg",{class:"wl-close-icon",viewBox:"0 0 1024 1024",width:t,height:t},[T("path",{d:"M697.173 85.333h-369.92c-144.64 0-241.92 101.547-241.92 252.587v348.587c0 150.613 97.28 252.16 241.92 252.16h369.92c144.64 0 241.494-101.547 241.494-252.16V337.92c0-151.04-96.854-252.587-241.494-252.587z",fill:"currentColor"}),T("path",{d:"m640.683 587.52-75.947-75.861 75.904-75.862a37.29 37.29 0 0 0 0-52.778 37.205 37.205 0 0 0-52.779 0l-75.946 75.818-75.862-75.946a37.419 37.419 0 0 0-52.821 0 37.419 37.419 0 0 0 0 52.821l75.947 75.947-75.776 75.733a37.29 37.29 0 1 0 52.778 52.821l75.776-75.776 75.947 75.947a37.376 37.376 0 0 0 52.779-52.821z",fill:"#888"})]),vu=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},T("path",{d:"m341.013 394.667 27.755 393.45h271.83l27.733-393.45h64.106l-28.01 397.952a64 64 0 0 1-63.83 59.498H368.768a64 64 0 0 1-63.83-59.52l-28.053-397.93h64.128zm139.307 19.818v298.667h-64V414.485h64zm117.013 0v298.667h-64V414.485h64zM181.333 288h640v64h-640v-64zm453.483-106.667v64h-256v-64h256z",fill:"red"})),gu=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},T("path",{d:"M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z",fill:"currentColor"})),ku=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[T("path",{d:"M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z",fill:"currentColor"}),T("path",{d:"M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z",fill:"currentColor"})]),yu=({active:t=!1})=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[T("path",{d:`M850.654 323.804c-11.042-25.625-26.862-48.532-46.885-68.225-20.022-19.61-43.258-34.936-69.213-45.73-26.78-11.124-55.124-16.727-84.375-16.727-40.622 0-80.256 11.123-114.698 32.135A214.79 214.79 0 0 0 512 241.819a214.79 214.79 0 0 0-23.483-16.562c-34.442-21.012-74.076-32.135-114.698-32.135-29.25 0-57.595 5.603-84.375 16.727-25.872 10.711-49.19 26.12-69.213 45.73-20.105 19.693-35.843 42.6-46.885 68.225-11.453 26.615-17.303 54.877-17.303 83.963 0 27.439 5.603 56.03 16.727 85.117 9.31 24.307 22.659 49.52 39.715 74.981 27.027 40.293 64.188 82.316 110.33 124.915 76.465 70.615 152.189 119.394 155.402 121.371l19.528 12.525c8.652 5.52 19.776 5.52 28.427 0l19.529-12.525c3.213-2.06 78.854-50.756 155.401-121.371 46.143-42.6 83.304-84.622 110.33-124.915 17.057-25.46 30.487-50.674 39.716-74.981 11.124-29.087 16.727-57.678 16.727-85.117.082-29.086-5.768-57.348-17.221-83.963z${t?"":"M512 761.5S218.665 573.55 218.665 407.767c0-83.963 69.461-152.023 155.154-152.023 60.233 0 112.473 33.618 138.181 82.727 25.708-49.109 77.948-82.727 138.18-82.727 85.694 0 155.155 68.06 155.155 152.023C805.335 573.551 512 761.5 512 761.5z"}`,fill:t?"red":"currentColor"})]),wu=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[T("path",{d:"M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0",fill:"currentColor"}),T("path",{d:"M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0",fill:"currentColor"})]),bu=()=>T("svg",{width:"16",height:"16",ariaHidden:"true"},T("path",{d:"M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z",fill:"currentColor"})),$u=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},T("path",{d:"M810.667 213.333a64 64 0 0 1 64 64V704a64 64 0 0 1-64 64H478.336l-146.645 96.107a21.333 21.333 0 0 1-33.024-17.856V768h-85.334a64 64 0 0 1-64-64V277.333a64 64 0 0 1 64-64h597.334zm0 64H213.333V704h149.334v63.296L459.243 704h351.424V277.333zm-271.36 213.334v64h-176.64v-64h176.64zm122.026-128v64H362.667v-64h298.666z",fill:"currentColor"})),_u=()=>T("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},T("path",{d:"M813.039 318.772L480.53 651.278H360.718V531.463L693.227 198.961C697.904 194.284 704.027 192 710.157 192C716.302 192 722.436 194.284 727.114 198.961L813.039 284.88C817.72 289.561 820 295.684 820 301.825C820 307.95 817.72 314.093 813.039 318.772ZM710.172 261.888L420.624 551.431V591.376H460.561L750.109 301.825L710.172 261.888ZM490.517 291.845H240.906V771.09H720.156V521.479C720.156 504.947 733.559 491.529 750.109 491.529C766.653 491.529 780.063 504.947 780.063 521.479V791.059C780.063 813.118 762.18 831 740.125 831H220.937C198.882 831 181 813.118 181 791.059V271.872C181 249.817 198.882 231.935 220.937 231.935H490.517C507.06 231.935 520.47 245.352 520.47 261.888C520.47 278.424 507.06 291.845 490.517 291.845Z",fill:"currentColor"})),xu=()=>T("svg",{class:"verified-icon",viewBox:"0 0 1024 1024",width:"14",height:"14"},T("path",{d:"m894.4 461.56-54.4-63.2c-10.4-12-18.8-34.4-18.8-50.4v-68c0-42.4-34.8-77.2-77.2-77.2h-68c-15.6 0-38.4-8.4-50.4-18.8l-63.2-54.4c-27.6-23.6-72.8-23.6-100.8 0l-62.8 54.8c-12 10-34.8 18.4-50.4 18.4h-69.2c-42.4 0-77.2 34.8-77.2 77.2v68.4c0 15.6-8.4 38-18.4 50l-54 63.6c-23.2 27.6-23.2 72.4 0 100l54 63.6c10 12 18.4 34.4 18.4 50v68.4c0 42.4 34.8 77.2 77.2 77.2h69.2c15.6 0 38.4 8.4 50.4 18.8l63.2 54.4c27.6 23.6 72.8 23.6 100.8 0l63.2-54.4c12-10.4 34.4-18.8 50.4-18.8h68c42.4 0 77.2-34.8 77.2-77.2v-68c0-15.6 8.4-38.4 18.8-50.4l54.4-63.2c23.2-27.6 23.2-73.2-.4-100.8zm-216-25.2-193.2 193.2a30 30 0 0 1-42.4 0l-96.8-96.8a30.16 30.16 0 0 1 0-42.4c11.6-11.6 30.8-11.6 42.4 0l75.6 75.6 172-172c11.6-11.6 30.8-11.6 42.4 0 11.6 11.6 11.6 30.8 0 42.4z",fill:"#27ae60"})),ht=({size:t=100})=>T("svg",{width:t,height:t,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},T("circle",{cx:50,cy:50,fill:"none",stroke:"currentColor",strokeWidth:"4",r:"40","stroke-dasharray":"85 30"},T("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"}))),Cu=()=>T("svg",{width:24,height:24,fill:"currentcolor",viewBox:"0 0 24 24"},[T("path",{style:"transform: translateY(0.5px)",d:"M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"}),T("path",{d:"M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"})]),Lu=()=>me("WALINE_USER_META",{nick:"",mail:"",link:""}),Iu=()=>me("WALINE_COMMENT_BOX_EDITOR",""),Eu="WALINE_LIKE";let ya=null;const _l=()=>ya||(ya=me(Eu,[])),Ru="WALINE_REACTION";let wa=null;const Au=()=>wa??(wa=me(Ru,{})),ba={},Su=t=>{const e=ba[t]??(ba[t]=yn.load(t,{useRecaptchaNet:!0,autoHideBadge:!0}));return{execute:n=>e.then(a=>a.execute(n))}},zu=t=>({execute:async e=>{const{load:n}=Oa("https://challenges.cloudflare.com/turnstile/v0/api.js",void 0,{async:!1});await n();const a=window==null?void 0:window.turnstile;return new Promise(o=>{a==null||a.ready(()=>{a==null||a.render(".wl-captcha-container",{sitekey:t,action:e,size:"compact",callback:o})})})}}),Tu="WALINE_USER";let $a=null;const _n=()=>$a??($a=me(Tu,{})),ju={key:0,class:"wl-reaction"},Mu=["textContent"],Vu={class:"wl-reaction-list"},Uu=["onClick"],Hu={class:"wl-reaction-img"},Ou=["src","alt"],Pu=["textContent"],Nu=["textContent"];var Du=ne({__name:"ArticleReaction",setup(t,{expose:e}){e();const n=Au(),a=Be("config"),o=R(-1),l=R([]),r=N(()=>a.value.locale),i=N(()=>a.value.reaction.length>0),s=N(()=>{const{reaction:p,path:$}=a.value;return p.map((S,_)=>({icon:S,desc:r.value[`reaction${_}`],active:n.value[$]===_}))});let u;const c=async()=>{if(!i.value)return;const{serverURL:p,lang:$,path:S,reaction:_}=a.value,b=new AbortController;u=b.abort.bind(b);const h=await un({serverURL:p,lang:$,paths:[S],type:_.map((w,U)=>`reaction${U}`),signal:b.signal});l.value=_.map((w,U)=>h[0][`reaction${U}`])},y=async p=>{if(o.value===-1){const{serverURL:$,lang:S,path:_}=a.value,b=n.value[_];o.value=p,b!==void 0&&(await dt({serverURL:$,lang:S,path:_,type:`reaction${b}`,action:"desc"}),l.value[b]=Math.max(l.value[b]-1,0)),b!==p&&(await dt({serverURL:$,lang:S,path:_,type:`reaction${p}`}),l.value[p]=(l.value[p]||0)+1),b===p?delete n.value[_]:n.value[_]=p,o.value=-1}};return he(()=>{ce(()=>[a.value.serverURL,a.value.path],()=>{c()},{immediate:!0})}),Fe(()=>u==null?void 0:u()),(p,$)=>s.value.length?(d(),f("div",ju,[m("div",{class:"wl-reaction-title",textContent:z(r.value.reactionTitle)},null,8,Mu),m("ul",Vu,[(d(!0),f(F,null,te(s.value,({active:S,icon:_,desc:b},h)=>(d(),f("li",{key:h,class:D(["wl-reaction-item",{active:S}]),onClick:w=>y(h)},[m("div",Hu,[m("img",{src:_,alt:b},null,8,Ou),o.value===h?(d(),K(k(ht),{key:0,class:"wl-reaction-loading"})):(d(),f("div",{key:1,class:"wl-reaction-votes",textContent:z(l.value[h]||0)},null,8,Pu))]),m("div",{class:"wl-reaction-text",textContent:z(b)},null,8,Nu)],10,Uu))),128))])])):I("v-if",!0)}}),bt=(t,e)=>{const n=t.__vccOpts||t;for(const[a,o]of e)n[a]=o;return n},Bu=bt(Du,[["__file","ArticleReaction.vue"]]);const Fu=["data-index"],Wu=["src","title","onClick"];var qu=ne({__name:"ImageWall",props:{items:{default:()=>[]},columnWidth:{default:300},gap:{default:0}},emits:["insert"],setup(t,{expose:e}){const n=t;e();let a=null;const o=R(null),l=R({}),r=R([]),i=()=>{const p=Math.floor((o.value.getBoundingClientRect().width+n.gap)/(n.columnWidth+n.gap));return p>0?p:1},s=p=>new Array(p).fill(null).map(()=>[]),u=async p=>{var $;if(p>=n.items.length)return;await cn();const S=Array.from((($=o.value)==null?void 0:$.children)||[]).reduce((_,b)=>b.getBoundingClientRect().height<_.getBoundingClientRect().height?b:_);r.value[Number(S.dataset.index)].push(p),await u(p+1)},c=async(p=!1)=>{if(r.value.length===i()&&!p)return;r.value=s(i());const $=window.scrollY;await u(0),window.scrollTo({top:$})},y=p=>{l.value[p.target.src]=!0};return he(()=>{c(!0),a=new ResizeObserver(()=>{c()}),a.observe(o.value),ce(()=>[n.items],()=>{l.value={},c(!0)}),ce(()=>[n.columnWidth,n.gap],()=>{c()})}),Sa(()=>a.unobserve(o.value)),(p,$)=>(d(),f("div",{ref_key:"wall",ref:o,class:"wl-gallery",style:ut({gap:`${p.gap}px`})},[(d(!0),f(F,null,te(r.value,(S,_)=>(d(),f("div",{key:_,class:"wl-gallery-column","data-index":_,style:ut({gap:`${p.gap}px`})},[(d(!0),f(F,null,te(S,b=>(d(),f(F,{key:b},[l.value[p.items[b].src]?I("v-if",!0):(d(),K(k(ht),{key:0,size:36,style:{margin:"20px auto"}})),m("img",{class:"wl-gallery-item",src:p.items[b].src,title:p.items[b].title,loading:"lazy",onLoad:y,onClick:h=>p.$emit("insert",`![](${p.items[b].src})`)},null,40,Wu)],64))),128))],12,Fu))),128))],4))}}),Gu=bt(qu,[["__file","ImageWall.vue"]]);const Zu={class:"wl-comment"},Yu={key:0,class:"wl-login-info"},Ku={class:"wl-avatar"},Qu=["title"],Xu=["title"],Ju=["src"],e1=["title","textContent"],t1={class:"wl-panel"},n1=["for","textContent"],a1=["id","onUpdate:modelValue","name","type"],l1=["placeholder"],o1={class:"wl-preview"},r1=m("hr",null,null,-1),i1=["innerHTML"],s1={class:"wl-footer"},c1={class:"wl-actions"},u1={href:"https://guides.github.com/features/mastering-markdown/",title:"Markdown Guide","aria-label":"Markdown is supported",class:"wl-action",target:"_blank",rel:"noopener noreferrer"},d1=["title"],p1=["title"],h1=["title"],m1=["title"],f1={class:"wl-info"},v1=m("div",{class:"wl-captcha-container"},null,-1),g1={class:"wl-text-number"},k1={key:0},y1=["textContent"],w1=["textContent"],b1=["disabled"],$1=["placeholder"],_1={key:1,class:"wl-loading"},x1={key:0,class:"wl-tab-wrapper"},C1=["title","onClick"],L1=["src","alt"],I1={key:0,class:"wl-tabs"},E1=["onClick"],R1=["src","alt","title"],A1=["title"];var S1=ne({__name:"CommentBox",props:{edit:{default:null},rootId:{default:""},replyId:{default:""},replyUser:{default:""}},emits:["log","cancelEdit","cancelReply","submit"],setup(t,{expose:e,emit:n}){const a=t,o=n;e();const l=Be("config"),r=Iu(),i=Lu(),s=_n(),u=R({}),c=R(null),y=R(null),p=R(null),$=R(null),S=R(null),_=R(null),b=R(null),h=R({tabs:[],map:{}}),w=R(0),U=R(!1),M=R(!1),A=R(!1),V=R(""),re=R(0),O=za({loading:!0,list:[]}),ue=R(0),ie=R(!1),we=R(""),ae=R(!1),E=R(!1),x=N(()=>l.value.locale),j=N(()=>{var g;return!!((g=s.value)!=null&&g.token)}),Z=N(()=>l.value.imageUploader!==!1),q=g=>{const v=c.value,C=v.selectionStart,H=v.selectionEnd||0,L=v.scrollTop;r.value=v.value.substring(0,C)+g+v.value.substring(H,v.value.length),v.focus(),v.selectionStart=C+g.length,v.selectionEnd=C+g.length,v.scrollTop=L},J=g=>{const v=g.key;(g.ctrlKey||g.metaKey)&&v==="Enter"&&Ze()},Y=g=>{const v=`![${l.value.locale.uploading} ${g.name}]()`;return q(v),ae.value=!0,Promise.resolve().then(()=>l.value.imageUploader(g)).then(C=>{r.value=r.value.replace(v,`\r
![${g.name}](${C})`)}).catch(C=>{alert(C.message),r.value=r.value.replace(v,"")}).then(()=>{ae.value=!1})},fe=g=>{var v;if((v=g.dataTransfer)!=null&&v.items){const C=ga(g.dataTransfer.items);C&&Z.value&&(Y(C),g.preventDefault())}},Ge=g=>{if(g.clipboardData){const v=ga(g.clipboardData.items);v&&Z.value&&Y(v)}},ze=()=>{const g=y.value;g.files&&Z.value&&Y(g.files[0]).then(()=>{g.value=""})},Ze=async()=>{var g,v,C,H,L,G;const{serverURL:W,lang:le,login:be,wordLimit:et,requiredMeta:tt,recaptchaV3Key:nt,turnstileKey:at}=l.value,Wt=await mu(),B={comment:we.value,nick:i.value.nick,mail:i.value.mail,link:i.value.link,url:l.value.path,ua:Wt};if((g=s.value)!=null&&g.token&&!a.edit)B.nick=s.value.display_name,B.mail=s.value.email,B.link=s.value.url;else{if(be==="force")return;if(tt.indexOf("nick")>-1&&!B.nick)return(v=u.value.nick)==null||v.focus(),alert(x.value.nickError);if(tt.indexOf("mail")>-1&&!B.mail||B.mail&&!tu(B.mail))return(C=u.value.mail)==null||C.focus(),alert(x.value.mailError);B.nick||(B.nick=x.value.anonymous)}if(!B.comment){(H=c.value)==null||H.focus();return}if(!ie.value)return alert(x.value.wordHint.replace("$0",et[0].toString()).replace("$1",et[1].toString()).replace("$2",re.value.toString()));B.comment=$l(B.comment,h.value.map),a.replyId&&a.rootId&&(B.pid=a.replyId,B.rid=a.rootId,B.at=a.replyUser),ae.value=!0;try{nt&&(B.recaptchaV3=await Su(nt).execute("social")),at&&(B.turnstile=await zu(at).execute("social"));const $e={serverURL:W,lang:le,token:(L=s.value)==null?void 0:L.token,comment:B},Te=await(a.edit?Le({objectId:a.edit.objectId,...$e}):Ga($e));if(ae.value=!1,Te.errmsg)return alert(Te.errmsg);o("submit",Te.data),r.value="",V.value="",a.replyId&&o("cancelReply"),(G=a.edit)!=null&&G.objectId&&o("cancelEdit")}catch($e){ae.value=!1,alert($e.message)}},Bt=g=>{g.preventDefault();const{lang:v,serverURL:C}=l.value;Ya({serverURL:C,lang:v}).then(H=>{s.value=H,(H.remember?localStorage:sessionStorage).setItem("WALINE_USER",JSON.stringify(H)),o("log")})},Ft=()=>{s.value={},localStorage.setItem("WALINE_USER","null"),sessionStorage.setItem("WALINE_USER","null"),o("log")},Ye=g=>{g.preventDefault();const{lang:v,serverURL:C}=l.value,H=800,L=800,G=(window.innerWidth-H)/2,W=(window.innerHeight-L)/2,le=new URLSearchParams({lng:v,token:s.value.token}),be=window.open(`${C}/ui/profile?${le.toString()}`,"_blank",`width=${H},height=${L},left=${G},top=${W},scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`);be==null||be.postMessage({type:"TOKEN",data:s.value.token},"*")},Ke=g=>{var v,C,H,L;!((v=p.value)!=null&&v.contains(g.target))&&!((C=$.value)!=null&&C.contains(g.target))&&(U.value=!1),!((H=S.value)!=null&&H.contains(g.target))&&!((L=_.value)!=null&&L.contains(g.target))&&(M.value=!1)},Qe=async g=>{var v;const{scrollTop:C,clientHeight:H,scrollHeight:L}=g.target,G=(H+C)/L,W=l.value.search,le=((v=b.value)==null?void 0:v.value)||"";G<.9||O.loading||E.value||(O.loading=!0,(W.more&&O.list.length?await W.more(le,O.list.length):await W.search(le)).length?O.list=[...O.list,...W.more&&O.list.length?await W.more(le,O.list.length):await W.search(le)]:E.value=!0,O.loading=!1,setTimeout(()=>{g.target.scrollTop=C},50))},Xe=Ha(g=>{O.list=[],E.value=!1,Qe(g)},300);ce([l,re],([g,v])=>{const{wordLimit:C}=g;C?v<C[0]&&C[0]!==0?(ue.value=C[0],ie.value=!1):v>C[1]?(ue.value=C[1],ie.value=!1):(ue.value=C[1],ie.value=!0):(ue.value=0,ie.value=!0)},{immediate:!0});const Je=({data:g})=>{!g||g.type!=="profile"||(s.value={...s.value,...g.data},[localStorage,sessionStorage].filter(v=>v.getItem("WALINE_USER")).forEach(v=>v.setItem("WALINE_USER",JSON.stringify(s))))};return he(()=>{var g;document.body.addEventListener("click",Ke),window.addEventListener("message",Je),(g=a.edit)!=null&&g.objectId&&(r.value=a.edit.orig),ce(M,async v=>{if(!v)return;const C=l.value.search;b.value&&(b.value.value=""),O.loading=!0,O.list=C.default?await C.default():await C.search(""),O.loading=!1}),ce(()=>r.value,v=>{const{highlighter:C,texRenderer:H}=l.value;we.value=v,V.value=uu(v,{emojiMap:h.value.map,highlighter:C,texRenderer:H}),re.value=hu(v),v?At(c.value):At.destroy(c.value)},{immediate:!0}),ce(()=>l.value.emoji,v=>lu(v).then(C=>{h.value=C}),{immediate:!0})}),Fe(()=>{document.body.removeEventListener("click",Ke),window.removeEventListener("message",Je)}),(g,v)=>{var C,H;return d(),f("div",Zu,[k(l).login!=="disable"&&j.value&&!((C=g.edit)!=null&&C.objectId)?(d(),f("div",Yu,[m("div",Ku,[m("button",{type:"submit",class:"wl-logout-btn",title:x.value.logout,onClick:Ft},[P(k(ka),{size:14})],8,Qu),m("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:x.value.profile,onClick:Ye},[m("img",{src:k(s).avatar,alt:"avatar"},null,8,Ju)],8,Xu)]),m("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:x.value.profile,onClick:Ye,textContent:z(k(s).display_name)},null,8,e1)])):I("v-if",!0),m("div",t1,[k(l).login!=="force"&&k(l).meta.length&&!j.value?(d(),f("div",{key:0,class:D(["wl-header",`item${k(l).meta.length}`])},[(d(!0),f(F,null,te(k(l).meta,L=>(d(),f("div",{key:L,class:"wl-header-item"},[m("label",{for:`wl-${L}`,textContent:z(x.value[L]+(k(l).requiredMeta.includes(L)||!k(l).requiredMeta.length?"":`(${x.value.optional})`))},null,8,n1),ge(m("input",{id:`wl-${L}`,ref_for:!0,ref:G=>{G&&(u.value[L]=G)},"onUpdate:modelValue":G=>k(i)[L]=G,class:D(["wl-input",`wl-${L}`]),name:L,type:L==="mail"?"email":"text"},null,10,a1),[[Ta,k(i)[L]]])]))),128))],2)):I("v-if",!0),ge(m("textarea",{id:"wl-edit",ref_key:"editorRef",ref:c,"onUpdate:modelValue":v[0]||(v[0]=L=>ja(r)?r.value=L:null),class:"wl-editor",placeholder:g.replyUser?`@${g.replyUser}`:x.value.placeholder,onKeydown:J,onDrop:fe,onPaste:Ge},null,40,l1),[[sn,k(r)]]),ge(m("div",o1,[r1,m("h4",null,z(x.value.preview)+":",1),m("div",{class:"wl-content",innerHTML:V.value},null,8,i1)],512),[[ct,A.value]]),m("div",s1,[m("div",c1,[m("a",u1,[P(k(bu))]),ge(m("button",{ref_key:"emojiButtonRef",ref:p,type:"button",class:D(["wl-action",{active:U.value}]),title:x.value.emoji,onClick:v[1]||(v[1]=L=>U.value=!U.value)},[P(k(gu))],10,d1),[[ct,h.value.tabs.length]]),k(l).search?(d(),f("button",{key:0,ref_key:"gifButtonRef",ref:S,type:"button",class:D(["wl-action",{active:M.value}]),title:x.value.gif,onClick:v[2]||(v[2]=L=>M.value=!M.value)},[P(k(Cu))],10,p1)):I("v-if",!0),m("input",{id:"wl-image-upload",ref_key:"imageUploadRef",ref:y,class:"upload",type:"file",accept:".png,.jpg,.jpeg,.webp,.bmp,.gif",onChange:ze},null,544),Z.value?(d(),f("label",{key:1,for:"wl-image-upload",class:"wl-action",title:x.value.uploadImage},[P(k(ku))],8,h1)):I("v-if",!0),m("button",{type:"button",class:D(["wl-action",{active:A.value}]),title:x.value.preview,onClick:v[3]||(v[3]=L=>A.value=!A.value)},[P(k(wu))],10,m1)]),m("div",f1,[v1,m("div",g1,[se(z(re.value)+" ",1),k(l).wordLimit?(d(),f("span",k1,[se("  /  "),m("span",{class:D({illegal:!ie.value}),textContent:z(ue.value)},null,10,y1)])):I("v-if",!0),se("  "+z(x.value.word),1)]),k(l).login!=="disable"&&!j.value?(d(),f("button",{key:0,type:"button",class:"wl-btn",onClick:Bt,textContent:z(x.value.login)},null,8,w1)):I("v-if",!0),k(l).login!=="force"||j.value?(d(),f("button",{key:1,type:"submit",class:"primary wl-btn",title:"Cmd|Ctrl + Enter",disabled:ae.value,onClick:Ze},[ae.value?(d(),K(k(ht),{key:0,size:16})):(d(),f(F,{key:1},[se(z(x.value.submit),1)],64))],8,b1)):I("v-if",!0)]),m("div",{ref_key:"gifPopupRef",ref:_,class:D(["wl-gif-popup",{display:M.value}])},[m("input",{ref_key:"gifSearchInputRef",ref:b,type:"text",placeholder:x.value.gifSearchPlaceholder,onInput:v[4]||(v[4]=(...L)=>k(Xe)&&k(Xe)(...L))},null,40,$1),O.list.length?(d(),K(Gu,{key:0,items:O.list,"column-width":200,gap:6,onInsert:v[5]||(v[5]=L=>q(L)),onScroll:Qe},null,8,["items"])):I("v-if",!0),O.loading?(d(),f("div",_1,[P(k(ht),{size:30})])):I("v-if",!0)],2),m("div",{ref_key:"emojiPopupRef",ref:$,class:D(["wl-emoji-popup",{display:U.value}])},[(d(!0),f(F,null,te(h.value.tabs,(L,G)=>(d(),f(F,{key:L.name},[G===w.value?(d(),f("div",x1,[(d(!0),f(F,null,te(L.items,W=>(d(),f("button",{key:W,type:"button",title:W,onClick:le=>q(`:${W}:`)},[U.value?(d(),f("img",{key:0,class:"wl-emoji",src:h.value.map[W],alt:W,loading:"lazy",referrerPolicy:"no-referrer"},null,8,L1)):I("v-if",!0)],8,C1))),128))])):I("v-if",!0)],64))),128)),h.value.tabs.length>1?(d(),f("div",I1,[(d(!0),f(F,null,te(h.value.tabs,(L,G)=>(d(),f("button",{key:L.name,type:"button",class:D(["wl-tab",{active:w.value===G}]),onClick:W=>w.value=G},[m("img",{class:"wl-emoji",src:L.icon,alt:L.name,title:L.name,loading:"lazy",referrerPolicy:"no-referrer"},null,8,R1)],10,E1))),128))])):I("v-if",!0)],2)])]),g.replyId||(H=g.edit)!=null&&H.objectId?(d(),f("button",{key:1,type:"button",class:"wl-close",title:x.value.cancelReply,onClick:v[6]||(v[6]=L=>g.$emit(g.replyId?"cancelReply":"cancelEdit"))},[P(k(ka),{size:24})],8,A1)):I("v-if",!0)])}}}),xl=bt(S1,[["__file","CommentBox.vue"]]);const z1=["id"],T1={class:"wl-user","aria-hidden":"true"},j1=["src"],M1={class:"wl-card"},V1={class:"wl-head"},U1=["href"],H1={key:1,class:"wl-nick"},O1=["textContent"],P1=["textContent"],N1=["textContent"],D1=["textContent"],B1=["textContent"],F1={class:"wl-comment-actions"},W1=["title"],q1=["title"],G1={class:"wl-meta","aria-hidden":"true"},Z1=["data-value","textContent"],Y1=["innerHTML"],K1={key:1,class:"wl-admin-actions"},Q1={class:"wl-comment-status"},X1=["disabled","onClick","textContent"],J1={key:3,class:"wl-quote"};var ed=ne({__name:"CommentCard",props:{comment:{},edit:{default:null},rootId:{},reply:{default:null}},emits:["log","submit","delete","edit","like","status","sticky","reply"],setup(t,{emit:e}){const n=t,a=e,o=["approved","waiting","spam"],l=Be("config"),r=_l(),i=Ma(),s=_n(),u=N(()=>l.value.locale),c=N(()=>{const{link:h}=n.comment;return h?wl(h)?h:`https://${h}`:""}),y=N(()=>r.value.includes(n.comment.objectId)),p=N(()=>Jc(new Date(n.comment.time),i.value,u.value)),$=N(()=>s.value.type==="administrator"),S=N(()=>n.comment.user_id&&s.value.objectId===n.comment.user_id),_=N(()=>{var h;return n.comment.objectId===((h=n.reply)==null?void 0:h.objectId)}),b=N(()=>{var h;return n.comment.objectId===((h=n.edit)==null?void 0:h.objectId)});return(h,w)=>{var U;const M=vt("CommentCard",!0);return d(),f("div",{id:h.comment.objectId,class:"wl-card-item"},[m("div",T1,[h.comment.avatar?(d(),f("img",{key:0,class:"wl-user-avatar",src:h.comment.avatar},null,8,j1)):I("v-if",!0),h.comment.type?(d(),K(k(xu),{key:1})):I("v-if",!0)]),m("div",M1,[m("div",V1,[c.value?(d(),f("a",{key:0,class:"wl-nick",href:c.value,target:"_blank",rel:"nofollow noopener noreferrer"},z(h.comment.nick),9,U1)):(d(),f("span",H1,z(h.comment.nick),1)),h.comment.type==="administrator"?(d(),f("span",{key:2,class:"wl-badge",textContent:z(u.value.admin)},null,8,O1)):I("v-if",!0),h.comment.label?(d(),f("span",{key:3,class:"wl-badge",textContent:z(h.comment.label)},null,8,P1)):I("v-if",!0),h.comment.sticky?(d(),f("span",{key:4,class:"wl-badge",textContent:z(u.value.sticky)},null,8,N1)):I("v-if",!0),typeof h.comment.level=="number"?(d(),f("span",{key:5,class:D(`wl-badge level${h.comment.level}`),textContent:z(u.value[`level${h.comment.level}`]||`Level ${h.comment.level}`)},null,10,D1)):I("v-if",!0),m("span",{class:"wl-time",textContent:z(p.value)},null,8,B1),m("div",F1,[$.value||S.value?(d(),f(F,{key:0},[m("button",{type:"button",class:"wl-edit",onClick:w[0]||(w[0]=A=>a("edit",h.comment))},[P(k(_u))]),m("button",{type:"button",class:"wl-delete",onClick:w[1]||(w[1]=A=>a("delete",h.comment))},[P(k(vu))])],64)):I("v-if",!0),m("button",{type:"button",class:"wl-like",title:y.value?u.value.cancelLike:u.value.like,onClick:w[2]||(w[2]=A=>a("like",h.comment))},[P(k(yu),{active:y.value},null,8,["active"]),se(" "+z("like"in h.comment?h.comment.like:""),1)],8,W1),m("button",{type:"button",class:D(["wl-reply",{active:_.value}]),title:_.value?u.value.cancelReply:u.value.reply,onClick:w[3]||(w[3]=A=>a("reply",_.value?null:h.comment))},[P(k($u))],10,q1)])]),m("div",G1,[(d(),f(F,null,te(["addr","browser","os"],A=>(d(),f(F,null,[h.comment[A]?(d(),f("span",{key:A,class:D(`wl-${A}`),"data-value":h.comment[A],textContent:z(h.comment[A])},null,10,Z1)):I("v-if",!0)],64))),64))]),b.value?I("v-if",!0):(d(),f("div",{key:0,class:"wl-content",innerHTML:h.comment.comment},null,8,Y1)),$.value&&!b.value?(d(),f("div",K1,[m("span",Q1,[(d(),f(F,null,te(o,A=>m("button",{key:A,type:"submit",class:D(`wl-btn wl-${A}`),disabled:h.comment.status===A,onClick:V=>a("status",{status:A,comment:h.comment}),textContent:z(u.value[A])},null,10,X1)),64))]),$.value&&!("rid"in h.comment)?(d(),f("button",{key:0,type:"submit",class:"wl-btn wl-sticky",onClick:w[4]||(w[4]=A=>a("sticky",h.comment))},z(h.comment.sticky?u.value.unsticky:u.value.sticky),1)):I("v-if",!0)])):I("v-if",!0),_.value||b.value?(d(),f("div",{key:2,class:D({"wl-reply-wrapper":_.value,"wl-edit-wrapper":b.value})},[P(xl,{edit:h.edit,"reply-id":(U=h.reply)==null?void 0:U.objectId,"reply-user":h.comment.nick,"root-id":h.rootId,onLog:w[5]||(w[5]=A=>a("log")),onCancelReply:w[6]||(w[6]=A=>a("reply",null)),onCancelEdit:w[7]||(w[7]=A=>a("edit",null)),onSubmit:w[8]||(w[8]=A=>a("submit",A))},null,8,["edit","reply-id","reply-user","root-id"])],2)):I("v-if",!0),"children"in h.comment?(d(),f("div",J1,[(d(!0),f(F,null,te(h.comment.children,A=>(d(),K(M,{key:A.objectId,comment:A,reply:h.reply,edit:h.edit,"root-id":h.rootId,onLog:w[9]||(w[9]=V=>a("log")),onDelete:w[10]||(w[10]=V=>a("delete",V)),onEdit:w[11]||(w[11]=V=>a("edit",V)),onLike:w[12]||(w[12]=V=>a("like",V)),onReply:w[13]||(w[13]=V=>a("reply",V)),onStatus:w[14]||(w[14]=V=>a("status",V)),onSticky:w[15]||(w[15]=V=>a("sticky",V)),onSubmit:w[16]||(w[16]=V=>a("submit",V))},null,8,["comment","reply","edit","root-id"]))),128))])):I("v-if",!0)])],8,z1)}}}),td=bt(ed,[["__file","CommentCard.vue"]]);const nd="3.1.3",ad={"data-waline":""},ld={class:"wl-meta-head"},od={class:"wl-count"},rd=["textContent"],id={class:"wl-sort"},sd=["onClick"],cd={class:"wl-cards"},ud={key:1,class:"wl-operation"},dd=["textContent"],pd={key:2,class:"wl-loading"},hd=["textContent"],md={key:4,class:"wl-operation"},fd=["textContent"],vd={key:5,class:"wl-power"},gd=m("a",{href:"https://github.com/walinejs/waline",target:"_blank",rel:"noopener noreferrer"}," Waline ",-1);var kd=ne({__name:"WalineComment",props:["serverURL","path","meta","requiredMeta","dark","commentSorting","lang","locale","pageSize","wordLimit","emoji","login","highlighter","texRenderer","imageUploader","search","copyright","recaptchaV3Key","turnstileKey","reaction"],setup(t){const e=t,n={latest:"insertedAt_desc",oldest:"insertedAt_asc",hottest:"like_desc"},a=Object.keys(n),o=_n(),l=_l(),r=R("loading"),i=R(0),s=R(1),u=R(0),c=N(()=>Kc(e)),y=R(c.value.commentSorting),p=R([]),$=R(null),S=R(null),_=N(()=>Qc(c.value.dark)),b=N(()=>c.value.locale);Va(_,{id:"waline-darkmode"});let h;const w=E=>{var x;const{serverURL:j,path:Z,pageSize:q}=c.value,J=new AbortController;r.value="loading",h==null||h(),qa({serverURL:j,lang:c.value.lang,path:Z,pageSize:q,sortBy:n[y.value],page:E,signal:J.signal,token:(x=o.value)==null?void 0:x.token}).then(Y=>{r.value="success",i.value=Y.count,p.value.push(...Y.data),s.value=E,u.value=Y.totalPages}).catch(Y=>{Y.name!=="AbortError"&&(console.error(Y.message),r.value="error")}),h=J.abort.bind(J)},U=()=>w(s.value+1),M=()=>{i.value=0,p.value=[],w(1)},A=E=>{y.value!==E&&(y.value=E,M())},V=E=>{$.value=E},re=E=>{S.value=E},O=E=>{if(S.value)S.value.comment=E.comment,S.value.orig=E.orig;else if("rid"in E){const x=p.value.find(({objectId:j})=>j===E.rid);if(!x)return;Array.isArray(x.children)||(x.children=[]),x.children.push(E)}else p.value.unshift(E),i.value+=1},ue=async({comment:E,status:x})=>{var j;if(E.status===x)return;const{serverURL:Z,lang:q}=c.value;await Le({serverURL:Z,lang:q,token:(j=o.value)==null?void 0:j.token,objectId:E.objectId,comment:{status:x}}),E.status=x},ie=async E=>{var x;if("rid"in E)return;const{serverURL:j,lang:Z}=c.value;await Le({serverURL:j,lang:Z,token:(x=o.value)==null?void 0:x.token,objectId:E.objectId,comment:{sticky:E.sticky?0:1}}),E.sticky=!E.sticky},we=async({objectId:E})=>{var x;if(!confirm("Are you sure you want to delete this comment?"))return;const{serverURL:j,lang:Z}=c.value;await Za({serverURL:j,lang:Z,token:(x=o.value)==null?void 0:x.token,objectId:E}),p.value.some((q,J)=>q.objectId===E?(p.value=p.value.filter((Y,fe)=>fe!==J),!0):q.children.some((Y,fe)=>Y.objectId===E?(p.value[J].children=q.children.filter((Ge,ze)=>ze!==fe),!0):!1))},ae=async E=>{var x;const{serverURL:j,lang:Z}=c.value,{objectId:q}=E,J=l.value.includes(q);await Le({serverURL:j,lang:Z,objectId:q,token:(x=o.value)==null?void 0:x.token,comment:{like:!J}}),J?l.value=l.value.filter(Y=>Y!==q):(l.value=[...l.value,q],l.value.length>50&&(l.value=l.value.slice(-50))),E.like=(E.like||0)+(J?-1:1)};return Ua("config",c),he(()=>{ce(()=>[e.serverURL,e.path],()=>M(),{immediate:!0})}),Fe(()=>h==null?void 0:h()),(E,x)=>(d(),f("div",ad,[P(Bu),$.value?I("v-if",!0):(d(),K(xl,{key:0,onLog:M,onSubmit:O})),m("div",ld,[m("div",od,[i.value?(d(),f("span",{key:0,class:"wl-num",textContent:z(i.value)},null,8,rd)):I("v-if",!0),se(" "+z(b.value.comment),1)]),m("ul",id,[(d(!0),f(F,null,te(k(a),j=>(d(),f("li",{key:j,class:D([j===y.value?"active":""]),onClick:Z=>A(j)},z(b.value[j]),11,sd))),128))])]),m("div",cd,[(d(!0),f(F,null,te(p.value,j=>(d(),K(td,{key:j.objectId,"root-id":j.objectId,comment:j,reply:$.value,edit:S.value,onLog:M,onReply:V,onEdit:re,onSubmit:O,onStatus:ue,onDelete:we,onSticky:ie,onLike:ae},null,8,["root-id","comment","reply","edit"]))),128))]),r.value==="error"?(d(),f("div",ud,[m("button",{type:"button",class:"wl-btn",onClick:M,textContent:z(b.value.refresh)},null,8,dd)])):r.value==="loading"?(d(),f("div",pd,[P(k(ht),{size:30})])):p.value.length?s.value<u.value?(d(),f("div",md,[m("button",{type:"button",class:"wl-btn",onClick:U,textContent:z(b.value.more)},null,8,fd)])):I("v-if",!0):(d(),f("div",{key:3,class:"wl-empty",textContent:z(b.value.sofa)},null,8,hd)),c.value.copyright?(d(),f("div",vd,[se(" Powered by "),gd,se(" v"+z(k(nd)),1)])):I("v-if",!0)]))}});bt(kd,[["__file","WalineComment.vue"]]);const _a=(t,e)=>{e.forEach((n,a)=>{const o=t[a].time;typeof o=="number"&&(n.innerText=o.toString())})},yd=({serverURL:t,path:e=window.location.pathname,selector:n=".waline-pageview-count",update:a=!0,lang:o=navigator.language})=>{const l=new AbortController,r=Array.from(document.querySelectorAll(n)),i=u=>{const c=on(u);return c!==null&&e!==c},s=u=>er({serverURL:jt(t),paths:u.map(c=>on(c)||e),lang:o,signal:l.signal}).then(c=>_a(c,u)).catch(bl);if(a){const u=r.filter(y=>!i(y)),c=r.filter(i);tr({serverURL:jt(t),path:e,lang:o}).then(y=>_a(y,u)),c.length&&s(c)}else s(r);return l.abort.bind(l)};function Cl(t="//unpkg.com/",e=["bilibili","qq","weibo"]){return e.map(n=>`${t}@waline/emojis/${n}/`)}const wd=ne({__name:"WalineClient",props:{options:{}},setup(t){const e=t,n=Pa(),{locale:a}=De(),o=N(()=>e.options.path||n.path.replace(/\/$/,"")),l=N(()=>Cl(e.options.cdn));return he(()=>{const{pageview:r,comment:i}=e.options;r&&yd({serverURL:e.options.serverURL,path:o.value,selector:typeof r=="string"?r:void 0}),i&&fu({serverURL:e.options.serverURL,path:o.value,selector:typeof i=="string"?i:void 0})}),(r,i)=>(d(),K(k(zc),ho(r.options,{"server-u-r-l":r.options.serverURL,lang:k(a),path:o.value,dark:k(mo),emoji:l.value}),null,16,["server-u-r-l","lang","path","dark","emoji"]))}});function Ll(){const t=Na();return N(()=>t.value.addons["valaxy-addon-waline"])}const bd=Object.freeze(Object.defineProperty({__proto__:null,getEmojis:Cl,useAddonWaline:Ll},Symbol.toStringTag,{value:"Module"})),$d=ne({__name:"YunWaline",setup(t){if(Aa(bd))throw new Error("Please install valaxy-addon-waline");const e=Ll();return(n,a)=>{const o=wd;return d(),K(o,{w:"full",options:k(e).options||{serverURL:""}},null,8,["options"])}}}),_d=ne({__name:"YunComment",setup(t){const e=Na();return(n,a)=>{const o=$d,l=Xo,r=vt("ClientOnly"),i=Fa;return d(),K(i,{w:"full",p:"4",class:"comment yun-comment sm:p-6 lg:px-12 xl:px-16"},{default:Ce(()=>[P(r,null,{default:Ce(()=>[k(e).addons["valaxy-addon-waline"]?(d(),K(o,{key:0})):I("v-if",!0),k(e).addons["valaxy-addon-twikoo"]?(d(),K(l,{key:1})):I("v-if",!0),oe(n.$slots,"default")]),_:3})]),_:3})}}}),xd={class:"post-nav"},Cd={class:"post-nav-item"},Ld=m("div",{class:"icon","i-ri-arrow-left-s-line":""},null,-1),Id={class:"title truncate",text:"sm"},Ed={class:"post-nav-item"},Rd={class:"title truncate",text:"sm"},Ad=m("div",{class:"icon","i-ri-arrow-right-s-line":""},null,-1),Sd=ne({__name:"YunPostNav",setup(t){const[e,n]=fo();return(a,o)=>{const l=vt("RouterLink");return d(),f("div",xd,[m("div",Cd,[k(e)?(d(),K(l,{key:0,class:"post-nav-prev",to:k(e).path||"",title:k(e).title},{default:Ce(()=>[Ld,m("span",Id,z(k(e).title),1)]),_:1},8,["to","title"])):I("v-if",!0)]),m("div",Ed,[k(n)?(d(),K(l,{key:0,to:k(n).path||"",title:k(n).title,class:"post-nav-next"},{default:Ce(()=>[m("span",Rd,z(k(n).title),1),Ad]),_:1},8,["to","title"])):I("v-if",!0)])])}}}),zd={key:0,"w-full":"","pt-14":"","pb-10":""},Td={class:"decrypt-password-container w-full sm:w-1/2","flex-center":"","m-auto":"",relative:""},jd={key:0,class:"-bottom-6",absolute:"","text-xs":"",op:"50"},Md=m("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API",target:"_blank"},[m("span",null,"Web Crypto API")],-1),Vd={key:1},Ud=ne({__name:"ValaxyDecrypt",props:{encryptedContent:{}},setup(t){const e=t,n=R(""),a=R(""),o=R(!1),{decrypt:l}=vo();async function r(){const c=e.encryptedContent;if(c)try{const y=await l(n.value,c);a.value=y||"",setTimeout(()=>{Oe()},16)}catch{o.value=!0}}function i(){a.value="",n.value="",setTimeout(()=>{Oe()},16)}const s=ne({name:"ValaxyDeprecatedContent",props:{html:String},render(){const c=`<div>${this.html}</div>`;return T({setup:()=>({frontmatter:Ut()}),template:c})}}),u=R(!1);return he(()=>{location.protocol!=="https:"&&(u.value=!0)}),(c,y)=>(d(),f("div",null,[a.value?(d(),f("div",Vd,[P(k(s),{html:a.value},null,8,["html"]),m("div",{"w-full":"","text-center":"","mt-8":""},[m("button",{"m-auto":"",class:"btn","font-bold":"",onClick:i}," Encrypt Again ")])])):(d(),f("div",zd,[m("div",Td,[ge(m("input",{"onUpdate:modelValue":y[0]||(y[0]=p=>n.value=p),"w-full":"",border:"","pl-5":"","pr-11":"","py-3":"",rounded:"","hover:shadow":"",transition:"",type:"password",placeholder:"Enter password",class:D(o.value&&"border-red"),onInput:y[1]||(y[1]=p=>o.value=!1),onKeyup:go(r,["enter"])},null,34),[[sn,n.value]]),m("div",{"cursor-pointer":"",absolute:"","text-2xl":"","i-ri-arrow-right-circle-line":"","right-3":"","text-gray":"","hover:text-black":"",onClick:r}),u.value?(d(),f("div",jd,[Md,se(" Only works in HTTPS ")])):I("v-if",!0)])]))]))}}),Ae=typeof window<"u",Il=Ae&&!("onscroll"in window)||typeof navigator<"u"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),El=Ae&&"IntersectionObserver"in window,Rl=Ae&&"classList"in document.createElement("p"),Al=Ae&&window.devicePixelRatio>1,Hd={elements_selector:".lazy",container:Il||Ae?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},Sl=t=>Object.assign({},Hd,t),xa=function(t,e){let n;const a="LazyLoad::Initialized",o=new t(e);try{n=new CustomEvent(a,{detail:{instance:o}})}catch{n=document.createEvent("CustomEvent"),n.initCustomEvent(a,!1,!1,{instance:o})}window.dispatchEvent(n)},Od=(t,e)=>{if(e)if(!e.length)xa(t,e);else for(let n=0,a;a=e[n];n+=1)xa(t,a)},_e="src",xn="srcset",Cn="sizes",zl="poster",$t="llOriginalAttrs",Tl="data",Ln="loading",jl="loaded",Ml="applied",Pd="entered",In="error",Vl="native",Ul="data-",Hl="ll-status",de=(t,e)=>t.getAttribute(Ul+e),Nd=(t,e,n)=>{const a=Ul+e;if(n===null){t.removeAttribute(a);return}t.setAttribute(a,n)},_t=t=>de(t,Hl),He=(t,e)=>Nd(t,Hl,e),Ot=t=>He(t,null),En=t=>_t(t)===null,Dd=t=>_t(t)===Ln,Bd=t=>_t(t)===In,Rn=t=>_t(t)===Vl,Fd=[Ln,jl,Ml,In],Wd=t=>Fd.indexOf(_t(t))>=0,Se=(t,e,n,a)=>{if(!(!t||typeof t!="function")){if(a!==void 0){t(e,n,a);return}if(n!==void 0){t(e,n);return}t(e)}},qe=(t,e)=>{if(e!==""){if(Rl){t.classList.add(e);return}t.className+=(t.className?" ":"")+e}},ve=(t,e)=>{if(e!==""){if(Rl){t.classList.remove(e);return}t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}},qd=t=>{t.llTempImage=document.createElement("IMG")},Gd=t=>{delete t.llTempImage},Ol=t=>t.llTempImage,Pt=(t,e)=>{if(!e)return;const n=e._observer;n&&n.unobserve(t)},Zd=t=>{t.disconnect()},Yd=(t,e,n)=>{e.unobserve_entered&&Pt(t,n)},An=(t,e)=>{t&&(t.loadingCount+=e)},Kd=t=>{t&&(t.toLoadCount-=1)},Pl=(t,e)=>{t&&(t.toLoadCount=e)},Qd=t=>t.loadingCount>0,Xd=t=>t.toLoadCount>0,Nl=t=>{let e=[];for(let n=0,a;a=t.children[n];n+=1)a.tagName==="SOURCE"&&e.push(a);return e},Sn=(t,e)=>{const n=t.parentNode;if(!n||n.tagName!=="PICTURE")return;Nl(n).forEach(e)},Dl=(t,e)=>{Nl(t).forEach(e)},Nt=[_e],Bl=[_e,zl],mt=[_e,xn,Cn],Fl=[Tl],Dt=t=>!!t[$t],Wl=t=>t[$t],ql=t=>delete t[$t],Ne=(t,e)=>{if(Dt(t))return;const n={};e.forEach(a=>{n[a]=t.getAttribute(a)}),t[$t]=n},Jd=t=>{Dt(t)||(t[$t]={backgroundImage:t.style.backgroundImage})},ep=(t,e,n)=>{if(!n){t.removeAttribute(e);return}t.setAttribute(e,n)},Me=(t,e)=>{if(!Dt(t))return;const n=Wl(t);e.forEach(a=>{ep(t,a,n[a])})},tp=t=>{if(!Dt(t))return;const e=Wl(t);t.style.backgroundImage=e.backgroundImage},Gl=(t,e,n)=>{qe(t,e.class_applied),He(t,Ml),n&&(e.unobserve_completed&&Pt(t,e),Se(e.callback_applied,t,n))},Zl=(t,e,n)=>{qe(t,e.class_loading),He(t,Ln),n&&(An(n,1),Se(e.callback_loading,t,n))},Ie=(t,e,n)=>{n&&t.setAttribute(e,n)},Ca=(t,e)=>{Ie(t,Cn,de(t,e.data_sizes)),Ie(t,xn,de(t,e.data_srcset)),Ie(t,_e,de(t,e.data_src))},np=(t,e)=>{Sn(t,n=>{Ne(n,mt),Ca(n,e)}),Ne(t,mt),Ca(t,e)},ap=(t,e)=>{Ne(t,Nt),Ie(t,_e,de(t,e.data_src))},lp=(t,e)=>{Dl(t,n=>{Ne(n,Nt),Ie(n,_e,de(n,e.data_src))}),Ne(t,Bl),Ie(t,zl,de(t,e.data_poster)),Ie(t,_e,de(t,e.data_src)),t.load()},op=(t,e)=>{Ne(t,Fl),Ie(t,Tl,de(t,e.data_src))},rp=(t,e,n)=>{const a=de(t,e.data_bg),o=de(t,e.data_bg_hidpi),l=Al&&o?o:a;l&&(t.style.backgroundImage=`url("${l}")`,Ol(t).setAttribute(_e,l),Zl(t,e,n))},ip=(t,e,n)=>{const a=de(t,e.data_bg_multi),o=de(t,e.data_bg_multi_hidpi),l=Al&&o?o:a;l&&(t.style.backgroundImage=l,Gl(t,e,n))},sp=(t,e,n)=>{const a=de(t,e.data_bg_set);if(!a)return;const o=a.split("|");let l=o.map(r=>`image-set(${r})`);t.style.backgroundImage=l.join(),t.style.backgroundImage===""&&(l=o.map(r=>`-webkit-image-set(${r})`),t.style.backgroundImage=l.join()),Gl(t,e,n)},Yl={IMG:np,IFRAME:ap,VIDEO:lp,OBJECT:op},cp=(t,e)=>{const n=Yl[t.tagName];n&&n(t,e)},up=(t,e,n)=>{const a=Yl[t.tagName];a&&(a(t,e),Zl(t,e,n))},dp=["IMG","IFRAME","VIDEO","OBJECT"],pp=t=>dp.indexOf(t.tagName)>-1,Kl=(t,e)=>{e&&!Qd(e)&&!Xd(e)&&Se(t.callback_finish,e)},La=(t,e,n)=>{t.addEventListener(e,n),t.llEvLisnrs[e]=n},hp=(t,e,n)=>{t.removeEventListener(e,n)},zn=t=>!!t.llEvLisnrs,mp=(t,e,n)=>{zn(t)||(t.llEvLisnrs={});const a=t.tagName==="VIDEO"?"loadeddata":"load";La(t,a,e),La(t,"error",n)},rn=t=>{if(!zn(t))return;const e=t.llEvLisnrs;for(let n in e){const a=e[n];hp(t,n,a)}delete t.llEvLisnrs},Ql=(t,e,n)=>{Gd(t),An(n,-1),Kd(n),ve(t,e.class_loading),e.unobserve_completed&&Pt(t,n)},fp=(t,e,n,a)=>{const o=Rn(e);Ql(e,n,a),qe(e,n.class_loaded),He(e,jl),Se(n.callback_loaded,e,a),o||Kl(n,a)},vp=(t,e,n,a)=>{const o=Rn(e);Ql(e,n,a),qe(e,n.class_error),He(e,In),Se(n.callback_error,e,a),n.restore_on_error&&Me(e,mt),o||Kl(n,a)},Tn=(t,e,n)=>{const a=Ol(t)||t;if(zn(a))return;mp(a,r=>{fp(r,t,e,n),rn(a)},r=>{vp(r,t,e,n),rn(a)})},gp=(t,e,n)=>{qd(t),Tn(t,e,n),Jd(t),rp(t,e,n),ip(t,e,n),sp(t,e,n)},kp=(t,e,n)=>{Tn(t,e,n),up(t,e,n)},jn=(t,e,n)=>{pp(t)?kp(t,e,n):gp(t,e,n)},yp=(t,e,n)=>{t.setAttribute("loading","lazy"),Tn(t,e,n),cp(t,e),He(t,Vl)},Ia=t=>{t.removeAttribute(_e),t.removeAttribute(xn),t.removeAttribute(Cn)},wp=t=>{Sn(t,e=>{Ia(e)}),Ia(t)},Xl=t=>{Sn(t,e=>{Me(e,mt)}),Me(t,mt)},bp=t=>{Dl(t,e=>{Me(e,Nt)}),Me(t,Bl),t.load()},$p=t=>{Me(t,Nt)},_p=t=>{Me(t,Fl)},xp={IMG:Xl,IFRAME:$p,VIDEO:bp,OBJECT:_p},Cp=t=>{const e=xp[t.tagName];if(!e){tp(t);return}e(t)},Lp=(t,e)=>{En(t)||Rn(t)||(ve(t,e.class_entered),ve(t,e.class_exited),ve(t,e.class_applied),ve(t,e.class_loading),ve(t,e.class_loaded),ve(t,e.class_error))},Ip=(t,e)=>{Cp(t),Lp(t,e),Ot(t),ql(t)},Ep=(t,e,n,a)=>{n.cancel_on_exit&&Dd(t)&&t.tagName==="IMG"&&(rn(t),wp(t),Xl(t),ve(t,n.class_loading),An(a,-1),Ot(t),Se(n.callback_cancel,t,e,a))},Rp=(t,e,n,a)=>{const o=Wd(t);He(t,Pd),qe(t,n.class_entered),ve(t,n.class_exited),Yd(t,n,a),Se(n.callback_enter,t,e,a),!o&&jn(t,n,a)},Ap=(t,e,n,a)=>{En(t)||(qe(t,n.class_exited),Ep(t,e,n,a),Se(n.callback_exit,t,e,a))},Sp=["IMG","IFRAME","VIDEO"],Jl=t=>t.use_native&&"loading"in HTMLImageElement.prototype,zp=(t,e,n)=>{t.forEach(a=>{Sp.indexOf(a.tagName)!==-1&&yp(a,e,n)}),Pl(n,0)},Tp=t=>t.isIntersecting||t.intersectionRatio>0,jp=t=>({root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}),Mp=(t,e,n)=>{t.forEach(a=>Tp(a)?Rp(a.target,a,e,n):Ap(a.target,a,e,n))},Vp=(t,e)=>{e.forEach(n=>{t.observe(n)})},Up=(t,e)=>{Zd(t),Vp(t,e)},Hp=(t,e)=>{!El||Jl(t)||(e._observer=new IntersectionObserver(n=>{Mp(n,t,e)},jp(t)))},eo=t=>Array.prototype.slice.call(t),Mt=t=>t.container.querySelectorAll(t.elements_selector),Op=t=>eo(t).filter(En),Pp=t=>Bd(t),Np=t=>eo(t).filter(Pp),Ea=(t,e)=>Op(t||Mt(e)),Dp=(t,e)=>{Np(Mt(t)).forEach(a=>{ve(a,t.class_error),Ot(a)}),e.update()},Bp=(t,e)=>{Ae&&(e._onlineHandler=()=>{Dp(t,e)},window.addEventListener("online",e._onlineHandler))},Fp=t=>{Ae&&window.removeEventListener("online",t._onlineHandler)},xt=function(t,e){const n=Sl(t);this._settings=n,this.loadingCount=0,Hp(n,this),Bp(n,this),this.update(e)};xt.prototype={update:function(t){const e=this._settings,n=Ea(t,e);if(Pl(this,n.length),Il||!El){this.loadAll(n);return}if(Jl(e)){zp(n,e,this);return}Up(this._observer,n)},destroy:function(){this._observer&&this._observer.disconnect(),Fp(this),Mt(this._settings).forEach(t=>{ql(t)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){const e=this._settings;Ea(t,e).forEach(a=>{Pt(a,this),jn(a,e,this)})},restoreAll:function(){const t=this._settings;Mt(t).forEach(e=>{Ip(e,t)})}};xt.load=(t,e)=>{const n=Sl(e);jn(t,n)};xt.resetStatus=t=>{Ot(t)};Ae&&Od(xt,window.lazyLoadOptions);function Wp(t={}){return document.querySelectorAll(".lazy").forEach(e=>{const n=e.getAttribute("src");e.removeAttribute("src"),e.setAttribute("data-src",n??"")}),new xt({elements_selector:".lazy",...t})}function qp(){const t=Da();t.value.vanillaLazyload.enable&&he(()=>{Wp(t.value.vanillaLazyload)})}function Gp(){ko&&window.addEventListener("click",t=>{var n;const e=t.target;if(e.matches(".vp-code-group input")){const a=(n=e.parentElement)==null?void 0:n.parentElement;if(!a)return;const o=Array.from(a.querySelectorAll("input")).indexOf(e);if(o<0)return;const l=a.querySelector(".blocks");if(!l)return;const r=Array.from(l.children).find(u=>u.classList.contains("active"));if(!r)return;const i=l.children[o];if(!i||r===i)return;r.classList.remove("active"),i.classList.add("active");const s=a==null?void 0:a.querySelector(`label[for="${e.id}"]`);s==null||s.scrollIntoView({block:"nearest"})}})}const Zp={key:2,text:"center"},Yp=["href"],Kp={m:"y-4",class:"end flex justify-center items-center"},Qp=m("hr",{class:"line inline-flex",w:"full",m:"!y-2"},null,-1),Xp={p:"x-4",font:"bold",class:"whitespace-nowrap"},Jp=m("hr",{class:"line inline-flex",w:"full",m:"!y-2"},null,-1),eh=ne({__name:"ValaxyMd",props:{frontmatter:{},excerpt:{}},setup(t){const e=t,{t:n}=De(),a=R();return Ba(()=>{yo(a.value)}),he(()=>{Oe()}),wo(()=>{Oe()}),e.frontmatter.aplayer&&bo(),e.frontmatter.codepen&&$o(),_o(),Gp(),xo(),(typeof e.frontmatter.medium_zoom>"u"||e.frontmatter.medium_zoom)&&Co(),qp(),(o,l)=>{const r=Ud;return o.$slots.default?(d(),f("article",{key:0,class:D(o.frontmatter.markdown!==!1&&"markdown-body")},[o.frontmatter.encryptedContent?(d(),K(r,{key:0,"encrypted-content":o.frontmatter.encryptedContent},null,8,["encrypted-content"])):oe(o.$slots,"default",{key:1,ref_key:"contentRef",ref:a,onVnodeUpdated:l[0]||(l[0]=(...i)=>k(Oe)&&k(Oe)(...i))}),o.frontmatter.url?(d(),f("div",Zp,[m("a",{href:o.frontmatter.url,class:"post-link-btn shadow hover:shadow-md",rounded:"",target:"_blank",m:"b-4"},z(k(n)("post.view_link")),9,Yp)])):I("v-if",!0),o.frontmatter.end!==void 0?oe(o.$slots,"end",{key:3},()=>[m("div",Kp,[Qp,m("span",Xp,z(o.frontmatter.end?"Q.E.D.":"To Be Continued."),1),Jp])]):I("v-if",!0)],2)):I("v-if",!0)}}}),th={key:0,class:"yun-time-warning",op:"80"},nh=ne({__name:"YunMdTimeWarning",setup(t){const e=Ut();Lt.extend(Lo);const{t:n}=De(),a=N(()=>{const o=Lt().valueOf()-Lt(e.value.updated||e.value.date).valueOf();return typeof e.value.time_warning=="number"?o>e.value.time_warning:e.value.time_warning});return(o,l)=>a.value?(d(),f("blockquote",th,z(k(n)("post.time_warning",{ago:k(Lt)(k(e).updated).fromNow()})),1)):I("v-if",!0)}}),ah={class:"ai-generated-excerpt rounded-lg bg-$va-c-bg-alt p-4"},lh={font:"black",flex:"","items-center":""},oh=m("div",{"mr-1":"","i-ri-robot-2-line":""},null,-1),rh={op:"90","mt-1":""},ih=ne({__name:"YunAiExcerpt",setup(t){const e=Ut(),{t:n}=De();return(a,o)=>(d(),f("div",ah,[m("div",lh,[oh,m("div",null,z(k(n)("excerpt.ai")),1)]),m("div",rh,z(k(e).excerpt),1)]))}}),sh={class:"yun-main md:pl-$va-sidebar-width lt-md:ml-0",flex:"~"},ch={w:"full",flex:"~"},uh={p:"x-4 b-8",class:"sm:px-6 lg:px-12 xl:px-16",w:"full"},gh=ne({__name:"ValaxyMain",props:{frontmatter:{},data:{}},setup(t){const e=t,n=Da(),{styles:a,icon:o,color:l}=Io(e.frontmatter.type),r=Eo(N(()=>e.frontmatter)),i=N(()=>e.frontmatter.aside!==!1),s=Pa(),u=Ro();return cn(()=>{s.hash&&setTimeout(()=>{Mn(document.body,s.hash,!0)},0)}),Ba(()=>{window.addEventListener("click",async c=>{const y=c.target.closest("a");if(y){const{protocol:p,hostname:$,pathname:S,hash:_,target:b}=y,h=window.location,w=S.match(/\.\w+$/);!c.ctrlKey&&!c.shiftKey&&!c.altKey&&!c.metaKey&&b!=="_blank"&&p===h.protocol&&$===h.hostname&&!(w&&w[0]!==".html")&&S===h.pathname&&(c.preventDefault(),_&&_!==h.hash&&(await u.push({hash:decodeURIComponent(_)}),Mn(y,_,y.classList.contains("header-anchor"))))}},{capture:!0})}),(c,y)=>{const p=zo,$=ih,S=nh,_=eh,b=Fa,h=Sd,w=_d,U=So,M=Ko;return d(),f("main",sh,[m("div",ch,[oe(c.$slots,"main",{},()=>[m("div",{class:D(["content",!i.value&&"no-aside"]),flex:"~ col grow",w:"full",p:"l-4 lt-md:0"},[P(b,{cover:c.frontmatter.cover,m:"0",class:"relative",style:ut(k(a))},{default:Ce(()=>[oe(c.$slots,"main-header",{},()=>[P(p,{class:"mb-2",title:k(r),icon:c.frontmatter.icon||k(o),color:c.frontmatter.color||k(l),cover:c.frontmatter.cover},null,8,["title","icon","color","cover"])]),oe(c.$slots,"main-header-after"),m("div",uh,[oe(c.$slots,"main-content",{},()=>[P(Ao,{appear:""},{default:Ce(()=>[P(_,{frontmatter:c.frontmatter},{default:Ce(()=>[c.frontmatter.excerpt_type==="ai"&&c.frontmatter.excerpt?(d(),K($,{key:0})):I("v-if",!0),P(S),oe(c.$slots,"main-content-md"),oe(c.$slots,"default")]),_:3},8,["frontmatter"])]),_:3})]),oe(c.$slots,"main-content-after")])]),_:3},8,["cover","style"]),oe(c.$slots,"main-nav-before"),oe(c.$slots,"main-nav",{},()=>[c.frontmatter.nav!==!1?(d(),K(h,{key:0})):I("v-if",!0)]),oe(c.$slots,"main-nav-after"),k(n).comment.enable&&c.frontmatter.comment!==!1?oe(c.$slots,"comment",{key:0},()=>[P(w,{class:D(c.frontmatter.nav===!1?"mt-4":0)},null,8,["class"])]):I("v-if",!0),oe(c.$slots,"main-footer-before"),P(U),oe(c.$slots,"main-footer-after")],2)]),oe(c.$slots,"aside",{},()=>[i.value?(d(),K(M,{key:0},{default:Ce(()=>[oe(c.$slots,"aside-custom")]),_:3})):I("v-if",!0)])])])}}});export{gh as _};
