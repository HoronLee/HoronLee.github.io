import{_ as r}from"./ValaxyMain.vue_vue_type_style_index_0_lang-BlZE3LhB.js";import{_ as d,a as E,p as g,o as F,c as o,w as a,f as i,g as s,h as k,s as c,r as l,i as y}from"./app-DYGYtZ5U.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-B9Dth9xg.js";import"./YunCard.vue_vue_type_script_setup_true_lang-ZIvkhB7t.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-nY4cFgbl.js";import"./index-C7yU5XnD.js";const n=JSON.parse('{"title":"使用PHP+Nginx搭建网页","description":null,"frontmatter":{"title":"使用PHP+Nginx搭建网页","businesscard":true,"date":"2023-04-21T13:35:43.000Z","updated":null,"tags":["Ubuntu","Linux","PHP","Nginx"],"categories":["服务器运维","PHP"],"keywords":null,"description":null,"top_img":null,"comments":null,"cover":"https://tse1-mm.cn.bing.net/th/id/OIP-C.XjFkev6xFnnCtjNLejCCaAHaHa?pid=ImgDet&rs=1","toc":null,"toc_number":null,"toc_style_simple":null,"copyright":null,"copyright_author":null,"copyright_author_href":null,"copyright_url":null,"copyright_info":null,"mathjax":null,"katex":null,"aplayer":null,"highlight_shrink":null,"aside":null,"swiper_index":3},"headers":[],"relativePath":"pages/posts/PHP-Nginx-website.md","path":"/home/runner/work/horonlee.github.io/horonlee.github.io/pages/posts/PHP-Nginx-website.md","lastUpdated":1711418005000}'),C={name:"pages/posts/PHP-Nginx-website.md",data(){return{data:n,frontmatter:n.frontmatter,$frontmatter:n.frontmatter}},setup(){const h=E();h.meta.frontmatter=Object.assign(h.meta.frontmatter||{},n.frontmatter||{}),g("pageData",n)}},u={id:"安装php",tabindex:"-1"},m=i("div",{class:"language-bash"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," apt-get"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," update"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"     # 更新软件源")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," apt-get"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," php"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 安装php")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"php"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -v"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  # 查看php版本")])])]),i("button",{class:"collapse"})],-1),B={id:"安装php-fpm",tabindex:"-1"},f=i("ol",null,[i("li",null,[s("先确定php版本"),i("code",null,"php -v")])],-1),P=i("div",{class:"language-bash"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"PHP"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 8.1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},".2-1ubuntu2.11"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (cli) ("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"built:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Feb"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 22"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2023"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 22"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},":56:18"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") ("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"NTS"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Copyright"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (c) The PHP Group")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Zend"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Engine"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," v4.1.2,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Copyright"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (c) Zend Technologies")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    with"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Zend"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OPcache"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," v8.1.2-1ubuntu2.11,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Copyright"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (c), by Zend Technologies")])])]),i("button",{class:"collapse"})],-1),b=i("p",null,[s("可以看到我这里php版本是8.1（目前默认安装的最新版） 2. 安装对应版本的PHP-fpm"),i("code",null,"sudo apt-get install php-fpm"),s(" 3. 查看php-fpm的状态"),i("code",null,"sudo systemctl status php8.1-fpm")],-1),_=i("div",{class:"language-bash"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"root@HoronLeeFirstEcs:~#"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," systemctl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," status"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," php8.1-fpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"●"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," php8.1-fpm.service"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," The"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," PHP"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 8.1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," FastCGI"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Process"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Manager")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"     Loaded:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," loaded"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (/lib/systemd/system/php8.1-fpm.service; "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"enabled"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"vendor"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," preset:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enabled"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"     Active:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," active"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (running) since Thu 2023-04-20 20:10:43 CST; "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"17h"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ago")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"       Docs:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," man:php-fpm8.1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"8"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    Process:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 259478"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ExecStartPost=/usr/lib/php/php-fpm-socket-helper"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /run/php/php-fpm.sock"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/php/8.1/fpm/pool.d/www.conf"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 81"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (code=exited, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"status="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/SUCCESS"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   Main"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," PID:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 259475"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (php-fpm8.1)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"     Status:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "Processes active: 0, idle: 2, Requests: 4, slow: 0, Traffic: 0req/sec"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      Tasks:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 3"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (limit: "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1929"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"     Memory:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 8.9"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"M")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        CPU:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2.739"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"s")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"     CGroup:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /system.slice/php8.1-fpm.service")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"             ├─259475"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "php-fpm: master process (/etc/php/8.1/fpm/php-fpm.conf)')])])]),i("button",{class:"collapse"})],-1),v={id:"配置nginx和php-fpm",tabindex:"-1"},D=i("blockquote",null,[i("p",null,"使用Nginx发布PHP网页，就需要这两个程序之间有沟通，这个时候就需要对其进行相应配置")],-1),A=i("ol",null,[i("li",null,[s("配置Nginx"),i("code",null,"sudo vim /etc/nginx/sites-available/default")]),i("li",null,[s("在其中自带的server字段中找到"),i("code",null,"# pass PHP scripts to FastCGI server"),s("下的关于php的被注释的子字段（大约第56行），将其改为（或者直接添加）： "),i("strong",null,"注意PHP版本号！")])],-1),x=i("div",{class:"language-vim"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"location "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," \\"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".php$ {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"               include"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," snippets/fastcgi-php.conf;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"               fastcgi_pass unix:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"php/php8."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"-fpm.sock;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")])])]),i("button",{class:"collapse"})],-1),H=i("p",null,"如果你找不到位置，我这里提供其他部分的内容：",-1),$=i("div",{class:"language-vim"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"server_name _;")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        location / {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," First attempt "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," serve request as file, then")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," as "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"directory"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", then fall back "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," displaying a "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"404"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                try_files $uri $uri/ "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"404"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"在这里👉location "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," \\"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".php$ {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"               include"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," snippets/fastcgi-php.conf;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"               fastcgi_pass unix:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"php/php8."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"-fpm.sock;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }👈在这里")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," pass PHP scripts "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," FastCGI server")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"location "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," \\"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".php$ {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"       include"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," snippets/fastcgi-php.conf;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," With php-fpm (or other unix sockets):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       fastcgi_pass unix:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/run/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"php/php7."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"4"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"-fpm.sock;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"       #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," With php-cgi (or other tcp sockets):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"       fastcgi_pass "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"127"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"9000"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        #"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"collapse"})],-1),w=i("ol",{start:"3"},[i("li",null,[s("配置php-fpm"),i("code",null,"vim /etc/php/8.1/fpm/pool.d/www.conf")])],-1),N=i("div",{class:"language-vim"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"vim"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; The address on which "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," accept FastCGI requests.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; Valid syntaxes are:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";   "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'ip.add.re.ss:port'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    - "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," listen on a TCP socket "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," a specific IPv4 address on")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";                            a specific port;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";   "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'[ip:6:addr:ess]:port'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," - "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," listen on a TCP socket "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," a specific IPv6 address on")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";                            a specific port;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";   "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'port'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"                 - "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," listen on a TCP socket "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," all addresses")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";                            (IPv6 and IPv4-mapped) on a specific port;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";   "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'/path/to/unix/socket'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," - "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"to"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," listen on a unix socket.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; Note: This value "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"is"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," mandatory.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"listen "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}}," /run/"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"php/php8."),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"-fpm.sock")])])]),i("button",{class:"collapse"})],-1),T=i("p",null,[s("一般来说自带的配置文件不用改，我没有做任何更改 4. 重启一下nginx和php-fpm："),i("code",null,"sudo systemctl restart nginx"),s("&"),i("code",null,"sudo systemctl restart php8.1-fpm")],-1),I={id:"测试php站点",tabindex:"-1"},S=i("ol",null,[i("li",null,[s("进入默认站点目录"),i("code",null,"cd /var/www/html")]),i("li",null,[s("新建php文件"),i("code",null,"sudo vim test.php")]),i("li",null,[s("写入测试内容"),i("code",null,"<?php phpinfo();?>")]),i("li",null,"保存退出"),i("li",null,[s("访问"),i("code",null,"http://$IP/test.php"),s("，可以显示PHP系统信息即表示PHP站点搭建完成！ "),i("img",{src:"https://bu.dusays.com/2023/04/21/64422e76b49d1.png",alt:"PHPInfo"})])],-1);function M(h,q,G,V,e,j){const t=y,p=r;return F(),o(p,{frontmatter:e.frontmatter,data:e.data},{"main-content-md":a(()=>[i("blockquote",null,[i("p",null,[s("本教程基于"),k(t,{href:"https://blog.horon.top/2023/04/20/ubuntu%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEnginx%E5%8F%8A%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95/",target:"_blank",rel:"noreferrer"},{default:a(()=>[s("这篇Nginx文章")]),_:1}),s("，如果不解之处可前往查阅")])]),c(" more "),i("h1",u,[s("安装PHP "),k(t,{class:"header-anchor",href:"#安装php","aria-label":'Permalink to "安装PHP"'},{default:a(()=>[s("​")]),_:1})]),m,i("h1",B,[s("安装PHP-fpm "),k(t,{class:"header-anchor",href:"#安装php-fpm","aria-label":'Permalink to "安装PHP-fpm"'},{default:a(()=>[s("​")]),_:1})]),f,P,b,_,i("h1",v,[s("配置Nginx和PHP-FPM "),k(t,{class:"header-anchor",href:"#配置nginx和php-fpm","aria-label":'Permalink to "配置Nginx和PHP-FPM"'},{default:a(()=>[s("​")]),_:1})]),D,A,x,H,$,w,N,T,i("h1",I,[s("测试PHP站点 "),k(t,{class:"header-anchor",href:"#测试php站点","aria-label":'Permalink to "测试PHP站点"'},{default:a(()=>[s("​")]),_:1})]),S]),"main-header":a(()=>[l(h.$slots,"main-header")]),"main-header-after":a(()=>[l(h.$slots,"main-header-after")]),"main-nav":a(()=>[l(h.$slots,"main-nav")]),"main-content":a(()=>[l(h.$slots,"main-content")]),"main-content-after":a(()=>[l(h.$slots,"main-content-after")]),"main-nav-before":a(()=>[l(h.$slots,"main-nav-before")]),"main-nav-after":a(()=>[l(h.$slots,"main-nav-after")]),comment:a(()=>[l(h.$slots,"comment")]),footer:a(()=>[l(h.$slots,"footer")]),aside:a(()=>[l(h.$slots,"aside")]),"aside-custom":a(()=>[l(h.$slots,"aside-custom")]),default:a(()=>[l(h.$slots,"default")]),_:3},8,["frontmatter","data"])}const J=d(C,[["render",M]]);export{n as data,J as default};
