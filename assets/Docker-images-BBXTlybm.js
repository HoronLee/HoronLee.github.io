import{_ as r}from"./ValaxyMain.vue_vue_type_style_index_0_lang-BlZE3LhB.js";import{_ as d,a as p,p as g,o as c,c as o,w as l,f as i,g as s,h as t,r as h,i as y}from"./app-DYGYtZ5U.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-B9Dth9xg.js";import"./YunCard.vue_vue_type_script_setup_true_lang-ZIvkhB7t.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-nY4cFgbl.js";import"./index-C7yU5XnD.js";const e=JSON.parse('{"title":"Docker镜像的封装和制作","description":"使用Dockerfile来制作docker镜像","frontmatter":{"title":"Docker镜像的封装和制作","businesscard":true,"date":"2022-11-29T08:29:08.000Z","updated":null,"tags":["Linux"],"categories":["服务器运维","Docker"],"keywords":null,"description":"使用Dockerfile来制作docker镜像","top_img":null,"comments":null,"cover":"https://tse4-mm.cn.bing.net/th/id/OIP-C.lWhTZRrL2WT6AUIJ0wTAwgHaE8?pid=ImgDet&rs=1","toc":null,"toc_number":null,"toc_style_simple":null,"copyright":null,"copyright_author":null,"copyright_author_href":null,"copyright_url":null,"copyright_info":null,"mathjax":null,"katex":null,"aplayer":null,"highlight_shrink":null,"aside":null,"swiper_index":3},"headers":[{"level":2,"title":"1. 制作一个MCServer的tar.gz的压缩包","slug":"_1-制作一个mcserver的tar-gz的压缩包","link":"#_1-制作一个mcserver的tar-gz的压缩包","children":[{"level":3,"title":"Dockerfile的其他指令：","slug":"dockerfile的其他指令","link":"#dockerfile的其他指令","children":[]}]}],"relativePath":"pages/posts/Docker-images.md","path":"/home/runner/work/horonlee.github.io/horonlee.github.io/pages/posts/Docker-images.md","lastUpdated":1711418005000}'),C={name:"pages/posts/Docker-images.md",data(){return{data:e,frontmatter:e.frontmatter,$frontmatter:e.frontmatter}},setup(){const a=p();a.meta.frontmatter=Object.assign(a.meta.frontmatter||{},e.frontmatter||{}),g("pageData",e)}},E={id:"ubuntu环境下制作自己的docker镜像——mc服务器",tabindex:"-1"},B=i("blockquote",null,[i("p",null,"制作Docker镜像一般有2种方法： 1. 使用DockerHub仓库中已有的环境，安装自己使用的软件环境后完成image创建 2. 通过Dockerfile，完成镜像image的创建 本教程采用较为方便的Dockerfile方法进行制作")],-1),u={id:"_1-制作一个mcserver的tar-gz的压缩包",tabindex:"-1"},m=i("p",null,[s("这是paper-1.19.2-294.jar服务端核心的"),i("code",null,"run.sh"),s("启动脚本")],-1),b=i("div",{class:"language-sh"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"sh"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"nohup"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," java"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Xms2048m"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -Xmx3096m"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -jar"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /root/docker/mcjava/mcserver/paper-1.19.2-294.jar"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," nogui"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," &")])])]),i("button",{class:"collapse"})],-1),D=i("p",null,[s("启动之后就会自动下载一些必要文件，然后我们再在当前操作的目录下下载一个Linux的Jdk1.17的RPM安装包 "),i("strong",null,"项目文件架构图总览↓")],-1),f=i("div",{class:"language-bash"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},".")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├──"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Halo"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 其他docker目录")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"│  "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," └──"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," docker-compose.yaml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"└──"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mcjava"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  # 项目文件夹")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    ├──"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," docker-compose.yaml"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," # docker-compose")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    ├──"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Dockerfile"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  # 制作镜像必要的文件")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    ├──"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," jdk-17.0.5_linux-x64_bin.rpm"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # MCServer需要的Jdk")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    ├──"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mcserver"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # MC服务器文件夹，里面是服务端完整文件")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    └──"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mcserver.tar.gz"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," # mcserver里面的文件压缩的tar.gz压缩包")])])]),i("button",{class:"collapse"})],-1),v={id:"_2-制作dockerfile文件用于构建镜像",tabindex:"-1"},_=i("ol",null,[i("li",null,[s("新建文件"),i("code",null,"touch Dockerfile")]),i("li",null,[s("编辑内容"),i("code",null,"vim Dockerfile")]),i("li",null,[s("可以直接复制以下内容粘贴到终端 "),i("div",{class:"language-yaml"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"yaml"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"FROM 10.3.61.254:81/operating-system/centos:7.5.1804"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 本地Harbor中的centos7.5镜像，作为基础镜像")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"MAINTAINER Horon"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 镜像的作者")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"USER root"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"   # 镜像中的指令操作权限为root")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"ADD jdk-17.0.5_linux-x64_bin.rpm /root/"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," # 将Dockerfile目录下的jdk安装包放入容器中的/root/下")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"RUN rpm -ivh /root/jdk-17.0.5_linux-x64_bin.rpm"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," # 在容器中安装jdk")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"RUN rm -f /root/jdk-17.0.5_linux-x64_bin.rpm"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 删除容器中的jdk安装包")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"ADD mcserver.tar.gz /root/docker/mcjava/"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 将Dcokerfile目录下的mc服务端压缩包放入容器中指定目录，会自动解压")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"RUN chmod 777 /root/docker/mcjava/mcserver/run.sh"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"   # 给予MC服务器中的启动脚本所有权限")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"EXPOSE 25565"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 开放容器中CentOS的防火墙25565端口")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'ENTRYPOINT ["sh"]'),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"   # 守护进程为sh（一般可以写这个）")])])]),i("button",{class:"collapse"})])]),i("li",null,[s("保存退出Esc"),i("code",null,":wq")])],-1),A={id:"dockerfile的其他指令",tabindex:"-1"},R=i("blockquote",null,[i("p",null,"常用指令如下 1. ADD ADD命令有两个参数，源和目标。它的基本作用是从源系统的文件系统上复制文件到目标容器的文件系统。如果源是一个URL，那该URL的内容将被下载并复制到容器中。 2. COPY 用于将文件作为一个新的层添加到镜像中。通常使用 COPY 指令将应用代码赋值到镜像中。 3. CMD 和RUN命令相似，CMD可以用于执行特定的命令。和RUN不同的是，这些命令不是在镜像构建的过程中执行的，而是在用镜像构建容器后被调用。 4. ENTRYPOINT 配置容器启动后执行的命令，并且不可被 docker run 提供的参数覆盖。 每个 Dockerfile 中只能有一个 ENTRYPOINT，当指定多个时，只有最后一个起效。 ENTRYPOINT 帮助你配置一个容器使之可执行化，如果你结合CMD命令和ENTRYPOINT命令，你可以从CMD命令中移除“application”而仅仅保留参数，参数将传递给ENTRYPOINT命令。 5. ENV ENV命令用于设置环境变量。这些变量以”key=value”的形式存在，并可以在容器内被脚本或者程序调用。这个机制给在容器中运行应用带来了极大的便利。 6. EXPOSE EXPOSE用来指定端口，使容器内的应用可以通过端口和外界交互。 7. FROM FROM命令可能是最重要的Dockerfile命令。改命令定义了使用哪个基础镜像启动构建流程。基础镜像可以为任意镜 像。如果基础镜像没有被发现，Docker将试图从Docker image index来查找该镜像。FROM命令必须是Dockerfile的首个命令。 8. MAINTAINER 我建议这个命令放在Dockerfile的起始部分，虽然理论上它可以放置于Dockerfile的任意位置。这个命令用于声明作者，并应该放在FROM的后面。 9. RUN RUN命令是Dockerfile执行命令的核心部分。它接受命令作为参数并用于创建镜像。不像CMD命令，RUN命令用于创建镜像（在之前commit的层之上形成新的层）。 10. USER USER命令用于设置运行容器的UID。 11. VOLUME VOLUME命令用于让你的容器访问宿主机上的目录。 12. WORKDIR WORKDIR命令用于设置CMD指明的命令的运行目录。")],-1),N={id:"_3-构建镜像并且启动容器",tabindex:"-1"},S=i("ol",null,[i("li",null,[s("制作镜像："),i("code",null,"docker build -t mcserver:1.0 ."),i("ul",null,[i("li",null,[i("code",null,"-t"),s(" 设置名字和标签")]),i("li",null,[i("code",null,"mcserver:1.0"),s(" 前面是名字后面是标签（一般写版本号，如lasted）")]),i("li",null,[i("code",null,"."),s(" 后面这个点代表使用当前路径下的"),i("code",null,"Dockerfile"),s("文件来构建镜像 "),i("em",null,[i("strong",null,"构建日志")])])]),i("div",{class:"language-bash"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"root@horon-PowerEdge-T420:~/docker/mcjava#"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," docker"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," build"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -t"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mcserver:1.0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," .")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Sending"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," build"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," context"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," to"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Docker"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," daemon"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  582.6"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"MB")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Step"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," FROM"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 10.3"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},".61.254:81/operating-system/centos:7.5.1804")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cf49811e3cdb")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Step"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," MAINTAINER"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," AAA")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Using"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cache")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 9"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"b5fff18b7fa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Step"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 3"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," USER"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Using"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cache")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dda67c5040a2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Step"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 4"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ADD"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," jdk-17.0.5_linux-x64_bin.rpm"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /root/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Using"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cache")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 80"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"df6712143b")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Step"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 5"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," RUN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rpm"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -ivh"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /root/jdk-17.0.5_linux-x64_bin.rpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Using"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cache")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," a94136862bdc")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Step"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 6"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," RUN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rm"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -f"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /root/jdk-17.0.5_linux-x64_bin.rpm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Using"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cache")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 77805"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"e07e5f2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Step"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 7"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ADD"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mcserver.tar.gz"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /root/docker/mcjava/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Using"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cache")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," e880c4a334b6")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Step"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 8"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," RUN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," chmod"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 777"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /root/docker/mcjava/mcserver/run.sh")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Running"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," in"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," bcbe5010bc07")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Removing"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," intermediate"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," container"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," bcbe5010bc07")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 052140"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"cfe43c")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Step"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 9"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," EXPOSE"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 25565")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Running"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," in"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 17078"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"c509c9c")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Removing"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," intermediate"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," container"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 17078"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"c509c9c")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 7"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"a39f43bf210")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Step"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/10"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," :"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ENTRYPOINT"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ["),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"sh"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Running"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," in"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," d6dc38331468")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Removing"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," intermediate"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," container"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," d6dc38331468")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"--->"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 65111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"cae31dd")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Successfully"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," built"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 65111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"cae31dd")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Successfully"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," tagged"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mcserver:1.0"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # 构建完成")])])]),i("button",{class:"collapse"})])]),i("li",null,[s("启动容器 "),i("ul",null,[i("li",null,[s("查看镜像："),i("code",null,"docker image ls")])]),i("div",{class:"language-bash"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"root@horon-PowerEdge-T420:~/docker/mcjava#"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," docker"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," image"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ls")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"REPOSITORY"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                                    TAG"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"        IMAGE"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"       CREATED"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"          SIZE")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"mcserver"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"                                      1.0"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        65111"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"cae31dd"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"   5"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," minutes"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ago"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"    894"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"MB")])])]),i("button",{class:"collapse"})]),i("ul",null,[i("li",null,[s("启动容器："),i("code",null,"docker run -itd mcserver:1.0")])]),i("div",{class:"language-bash"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"root@horon-PowerEdge-T420:~/docker/mcjava#"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," docker"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," run"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -itd"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mcserver:1.0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"48c0fc3c66fef5aa9acb8b1a4e04ff58e430991a0b5ce067a562d891580494d0")])])]),i("button",{class:"collapse"})]),i("ul",null,[i("li",null,[s("查看容器状态："),i("code",null,"docker ps")])]),i("div",{class:"language-bash"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"CONTAINER"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ID"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   IMAGE"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                                           COMMAND"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                  CREATED"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"         STATUS"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"         PORTS"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"                                                                                                                                                  NAMES")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"48c0fc3c66fe"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   mcserver:1.0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'                                    "sh"'),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"                     7"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," seconds"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ago"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"   Up"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 4"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," seconds"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"   25565"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/tcp")])])]),i("button",{class:"collapse"})]),i("ul",null,[i("li",null,[s("进入容器后台开启服务器："),i("code",null,"docker exec -it ")])]),i("div",{class:"language-bash"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"root@horon-PowerEdge-T420:~/docker/mcjava#"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," docker"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," exec"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -it"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 48"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"c"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," bash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@48c0fc3c66fe /]# ls")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    bin"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  dev"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  etc"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  home"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  lib"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  lib64"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  media"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  mnt"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  opt"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  proc"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  run"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  sbin"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  srv"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  sys"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  tmp"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  usr"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  var")])])]),i("button",{class:"collapse"})]),s("可以看到系统正常运行，接下来可以开启服务器了！ "),i("ul",null,[i("li",null,[s("进入目录执行服务器启动sh脚本："),i("code",null,"sh /root/docker/mcjava/mcserver/run.sh")]),i("li",null,[s("查看nohup日志文件："),i("code",null,"cat nohup.out"),i("div",{class:"language-bash"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@48c0fc3c66fe mcserver]# cat nohup.out")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    Starting"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," org.bukkit.craftbukkit.Main")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        System"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Info:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Java"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 17"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Java "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"HotSpot"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"TM"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"64"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"-Bit"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Server"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," VM"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 17.0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},".5+9-LTS-191"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") Host: Linux 5.15.0-53-generic ("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"amd64"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        Loading"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," libraries,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," please"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," wait...")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        2022-11-29"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 02"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},":19:07,244"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ServerMain"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," WARN"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Advanced"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," terminal"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," features"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," are"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," not"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," available"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," in"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," this"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," environment")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"["),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"02"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":19:11 INFO]: Building unoptimized datafixer")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        ···中间过程省略···")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"["),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"02"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":19:20 INFO]: Done ("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"2.615s"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"!"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," For"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," help,"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," type"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "help"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"["),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"02"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":19:20 INFO]: Timings Reset")])])]),i("button",{class:"collapse"})])])])]),i("li",null,[s("退出容器："),i("code",null,"exit")]),i("li",null,"大功告成！！！")],-1),M={id:"_3-整一个docker-compose来代替繁琐的run命令",tabindex:"-1"},T=i("div",{class:"language-yaml"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"yaml"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"version"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'3'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"services"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  mcserver"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    image"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"mcserver:1.0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    container_name"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"mcserver")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    restart"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"always")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    ports"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      - "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"25565:25565")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    tty"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"true")])])]),i("button",{class:"collapse"})],-1),O=i("p",null,[s("启动docker-compose："),i("code",null,"docker-compose up"),s("(同级目录下)")],-1),U={id:"_4-完结撒花",tabindex:"-1"},I=i("p",null,"这个教程或许有些唠叨，但是也是为了巩固知识嘛~ 希望会对看了的友友有所帮助！",-1);function P(a,x,j,$,n,w){const k=y,F=r;return c(),o(F,{frontmatter:n.frontmatter,data:n.data},{"main-content-md":l(()=>[i("h1",E,[s("Ubuntu环境下制作自己的Docker镜像——MC服务器 "),t(k,{class:"header-anchor",href:"#ubuntu环境下制作自己的docker镜像——mc服务器","aria-label":'Permalink to "Ubuntu环境下制作自己的Docker镜像——MC服务器"'},{default:l(()=>[s("​")]),_:1})]),B,i("h2",u,[s("1. 制作一个MCServer的tar.gz的压缩包 "),t(k,{class:"header-anchor",href:"#_1-制作一个mcserver的tar-gz的压缩包","aria-label":'Permalink to "1. 制作一个MCServer的tar.gz的压缩包"'},{default:l(()=>[s("​")]),_:1})]),m,b,D,f,i("h1",v,[s("2. 制作Dockerfile文件用于构建镜像 "),t(k,{class:"header-anchor",href:"#_2-制作dockerfile文件用于构建镜像","aria-label":'Permalink to "2. 制作Dockerfile文件用于构建镜像"'},{default:l(()=>[s("​")]),_:1})]),_,i("h3",A,[s("Dockerfile的其他指令： "),t(k,{class:"header-anchor",href:"#dockerfile的其他指令","aria-label":'Permalink to "Dockerfile的其他指令："'},{default:l(()=>[s("​")]),_:1})]),R,i("h1",N,[s("3. 构建镜像并且启动容器 "),t(k,{class:"header-anchor",href:"#_3-构建镜像并且启动容器","aria-label":'Permalink to "3. 构建镜像并且启动容器"'},{default:l(()=>[s("​")]),_:1})]),S,i("h1",M,[s("3. 整一个Docker-compose来代替繁琐的run命令 "),t(k,{class:"header-anchor",href:"#_3-整一个docker-compose来代替繁琐的run命令","aria-label":'Permalink to "3. 整一个Docker-compose来代替繁琐的run命令"'},{default:l(()=>[s("​")]),_:1})]),T,O,i("h1",U,[s("4. 完结撒花 "),t(k,{class:"header-anchor",href:"#_4-完结撒花","aria-label":'Permalink to "4. 完结撒花"'},{default:l(()=>[s("​")]),_:1})]),I]),"main-header":l(()=>[h(a.$slots,"main-header")]),"main-header-after":l(()=>[h(a.$slots,"main-header-after")]),"main-nav":l(()=>[h(a.$slots,"main-nav")]),"main-content":l(()=>[h(a.$slots,"main-content")]),"main-content-after":l(()=>[h(a.$slots,"main-content-after")]),"main-nav-before":l(()=>[h(a.$slots,"main-nav-before")]),"main-nav-after":l(()=>[h(a.$slots,"main-nav-after")]),comment:l(()=>[h(a.$slots,"comment")]),footer:l(()=>[h(a.$slots,"footer")]),aside:l(()=>[h(a.$slots,"aside")]),"aside-custom":l(()=>[h(a.$slots,"aside-custom")]),default:l(()=>[h(a.$slots,"default")]),_:3},8,["frontmatter","data"])}const X=d(C,[["render",P]]);export{e as data,X as default};
